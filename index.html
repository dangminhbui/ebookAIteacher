<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Khai Sáng: Hành Trang Cho Nhà Giáo Dục Hiện Đại (v3.2)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* General Styles */
        :root {
            --pademy-red: #C8102E; 
            --pademy-black: #1D1D1B; 
            --pademy-gold-accent: #FBC02D; 
            
            --theme-primary: var(--pademy-red);
            --theme-secondary: var(--pademy-black);
            --theme-accent: var(--pademy-gold-accent);

            --text-color-on-primary: #FFFFFF;
            --text-color-on-secondary: #FFFFFF;
            --text-color-general: var(--pademy-black);
            --text-color-subtle: #555555;

            --bg-color: #FFFFFF; 
            --light-bg-color: #f7f7f7; 
            --content-bg-color: #FFFFFF; 
            --border-color: #e0e0e0;

            --success-color: #28a745;
            --danger-color: #dc3545;
            --success-bg: #d4edda;
            --danger-bg: #f8d7da;

            --font-main: 'Inter', sans-serif;
            --border-radius: 8px;
            --box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1); 
            --transition-speed: 0.3s;
        }

        body {
            font-family: var(--font-main);
            margin: 0;
            background-color: var(--light-bg-color); 
            color: var(--text-color-general);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            padding-top: 80px; 
        }

        #global-header {
            width: 100%;
            padding: 0 25px; 
            background-color: var(--bg-color); 
            display: flex;
            justify-content: space-between; 
            align-items: center;
            box-sizing: border-box;
            position: fixed; 
            top: 0;
            left: 0;
            z-index: 2000; 
            height: 60px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.08); 
        }

        #global-logo {
            height: 40px; 
            width: auto;
        }
        
        #print-pdf-button {
            background-color: var(--theme-primary); 
            color: var(--text-color-on-primary); 
            border: none;
            padding: 8px 16px; 
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9em;
            transition: background-color var(--transition-speed), transform 0.2s;
        }
        #print-pdf-button:hover {
            background-color: #A60C26; 
            transform: scale(1.05);
        }

        .ebook-container {
            position: relative;
            background-color: var(--content-bg-color); 
            border-radius: 16px; 
            box-shadow: var(--box-shadow); 
            overflow: hidden; 
            width: 100%;
            max-width: 1024px; 
            height: 88vh; 
            display: flex; 
            margin-bottom: 20px; 
            border: 1px solid var(--border-color);
        }

        .ebook-chapter { 
            min-width: 100%; 
            height: 100%; 
            padding: 30px 45px; 
            text-align: left;
            box-sizing: border-box;
            overflow-y: auto; 
            display: none; 
            animation: fadeInAnimation 0.6s ease-out; 
        }

        @keyframes fadeInAnimation { 
            from { opacity: 0.3; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ebook-chapter.active-chapter { 
            display: block;
        }
        
        /* Cover Page Specific Styles */
        .ebook-chapter.cover-page {
            background: linear-gradient(135deg, var(--pademy-red) 0%, var(--pademy-black) 100%);
            color: var(--light-text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px;
        }
        .cover-page .main-ebook-title-cover {
            font-size: 3.2em; 
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .cover-page .ebook-subtitle-cover {
            font-size: 1.3em;
            font-style: italic;
            font-weight: 400;
            margin-top: 10px;
            max-width: 80%; /* Adjust for better centering */
            opacity: 0.9;
            display: block; /* Ensure it's a block for margin auto */
            margin-left: auto;
            margin-right: auto;
            text-align: right; /* Keep text right aligned within its block */
        }
        .cover-page .cover-author {
            font-size: 1.2em;
            margin-top: 30px;
            font-weight: 500;
        }
        .cover-page .cover-contact-info {
            margin-top: 20px;
            font-size: 0.9em;
            line-height: 1.6;
            opacity: 0.8;
        }
        .cover-page .cover-contact-info p {
            margin: 5px 0;
        }


        .chapter-header-title { 
            font-size: 2.2em; 
            font-weight: 700;
            color: var(--theme-primary); 
            margin-top: 0; 
            margin-bottom: 25px; 
            padding-bottom: 12px; 
            border-bottom: 3px solid var(--theme-accent); 
        }
        .chapter-objectives {
            margin-bottom: 25px; 
            background-color: #f9fafb; 
            padding: 18px 22px; 
            border-radius: var(--border-radius);
            border-left: 5px solid var(--theme-accent);
        }
        .chapter-objectives p strong {
            color: var(--theme-primary);
            font-size: 1.1em; 
        }
        .chapter-objectives ul {
            list-style-type: none;
            padding-left: 0;
            margin-top: 10px; 
        }
        .chapter-objectives ul li {
            margin-bottom: 8px; 
            font-size: 0.95em; 
            position: relative;
            padding-left: 25px; 
            line-height: 1.6; 
        }
        .chapter-objectives ul li::before {
            content: "\f00c"; 
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            color: var(--theme-accent);
            position: absolute;
            left: 0;
            top: 4px; 
            font-size: 0.9em;
        }

        .ebook-chapter.title-chapter .chapter-content-wrapper, 
        .ebook-chapter.toc-chapter .chapter-content-wrapper { 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 90%; 
            text-align: center;
        }
         .ebook-chapter.title-chapter .main-ebook-title { 
            font-size: 2.6em; 
            color: var(--theme-primary);
            margin-bottom: 10px;
        }
        .ebook-chapter.title-chapter .ebook-author { 
            font-size: 1.3em; 
            color: var(--theme-secondary);
            font-weight: 500;
            margin-bottom: 25px;
        }
        .ebook-chapter.title-chapter .ebook-intro-text { 
            font-size: 1.05em; 
            line-height: 1.75; 
            max-width: 700px; 
            margin-bottom: 20px;
            text-align: left; 
        }
        .ebook-chapter.title-chapter .ebook-intro-text p {
            text-align: justify;
        }
        .ebook-chapter.title-chapter .signature {
            margin-top: 30px;
            font-style: italic;
            font-weight: 500;
            color: var(--theme-secondary);
        }


        .chapter-body { 
            font-size: 1.05em; 
            line-height: 1.75; 
            color: var(--text-color-general); 
        }
        .chapter-body h3 { 
            font-size: 1.5em; 
            color: var(--theme-primary);
            margin-top: 30px; 
            margin-bottom: 15px; 
            padding-bottom: 6px; 
            border-bottom: 1px solid var(--border-color);
        }
        .chapter-body h4 { 
            font-size: 1.2em; 
            color: var(--theme-primary);
            margin-top: 20px; 
            margin-bottom: 10px; 
        }
        .chapter-body p {
            margin-bottom: 1.1em; 
            text-align: justify; 
        }
        .chapter-body ul, .chapter-body ol {
            margin-bottom: 1.1em;
            padding-left: 30px; 
        }
        .chapter-body li {
            margin-bottom: 0.6em; 
            line-height: 1.65; 
        }
        .chapter-summary {
            margin-top: 30px; 
            padding: 20px 25px; 
            background-color: #f9fafb;
            border-radius: var(--border-radius);
            border-top: 3px solid var(--theme-accent);
        }
        .chapter-summary h3 {
            margin-top: 0;
            border-bottom: none;
            padding-bottom: 0;
            font-size: 1.35em; 
            color: var(--theme-primary);
        }
        .chapter-summary ul li {
            font-size: 0.95em;
        }
        .chapter-summary .keywords {
            margin-top: 10px;
            font-size: 0.9em;
            color: var(--text-color-subtle);
        }
        .chapter-summary .keywords strong {
            color: var(--theme-secondary);
        }


        /* Table of Contents Styling */
        #table-of-contents-list {
            list-style: none;
            padding-left: 0;
            max-width: 650px; 
            margin: 20px auto;
            text-align: left; 
        }
        #table-of-contents-list li {
            margin-bottom: 10px; 
        }
        #table-of-contents-list li a {
            display: flex; 
            align-items: center;
            padding: 10px 15px; 
            background-color: var(--bg-color); 
            color: var(--theme-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            font-size: 1.05em; 
            transition: background-color var(--transition-speed), color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
            border: 1px solid var(--border-color);
        }
        #table-of-contents-list li a:hover {
            background-color: var(--theme-accent);
            color: var(--theme-primary);
            transform: translateX(3px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }
        #table-of-contents-list li .toc-icon { 
            margin-right: 12px;
            color: var(--theme-primary);
            width: 20px; 
            text-align: center;
        }
        #table-of-contents-list li .toc-chapter-number {
            font-weight: 600;
            color: var(--theme-primary);
            margin-right: 6px;
        }


        .prev-nav, .next-nav {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px; 
            margin-top: -25px;
            color: var(--light-text-color);
            font-weight: bold;
            font-size: 20px;
            transition: 0.5s ease;
            border-radius: 50%;
            user-select: none;
            background-color: rgba(10, 35, 66, 0.7); 
            z-index: 10;
            width: 48px; 
            height: 48px; 
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .next-nav { right: 20px; }
        .prev-nav { left: 20px; }

        .prev-nav:hover, .next-nav:hover {
            background-color: var(--theme-accent); 
            color: var(--theme-primary); 
            transform: scale(1.1);
        }

        .dots-navigation-container {
            text-align: center;
            padding: 15px 0 0 0; 
        }
        .dot-indicator {
            cursor: pointer;
            height: 12px; 
            width: 12px;
            margin: 0 5px;
            background-color: #cccccc; 
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.5s ease, transform 0.3s ease;
        }
        .dot-indicator.active-dot, .dot-indicator:hover {
            background-color: var(--theme-accent); 
            transform: scale(1.2);
        }
        
        /* Page Number Styling */
        .ebook-page-number-placeholder { 
            position: absolute;
            bottom: 15px;
            right: 40px;
            font-size: 0.85em;
            color: var(--text-color-subtle);
        }
        .ebook-chapter.cover-page .ebook-page-number-placeholder,
        .ebook-chapter.toc-chapter .ebook-page-number-placeholder { 
            display: none;
        }

        /* Note-taking Area */
        .notes-area {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px dashed var(--border-color);
        }
        .notes-area h4 {
            font-size: 1.1em;
            color: var(--theme-primary);
            margin-bottom: 10px;
        }
        .notes-area textarea {
            width: calc(100% - 22px);
            min-height: 80px;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-family: var(--font-main);
            font-size: 0.95em;
            resize: vertical;
        }
        .notes-area .notes-disclaimer {
            font-size: 0.8em;
            color: var(--text-color-subtle);
            margin-top: 5px;
            font-style: italic;
        }


        .quiz-question-container {
            margin-bottom: 20px; 
            padding: 15px; 
            background-color: #f9fafb; 
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }
        .question-title {
            font-size: 1.1em; 
            font-weight: 600;
            color: var(--theme-primary); 
            margin-bottom: 12px; 
        }
        .option-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); 
            gap: 8px; 
        }
        .interactive-quiz-item { 
            cursor: pointer;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color); 
            padding: 10px 12px; 
            margin: 4px 0; 
            border-radius: var(--border-radius);
            transition: background-color var(--transition-speed), transform 0.2s, box-shadow var(--transition-speed);
            text-align: left;
            font-size: 0.95em; 
            color: var(--text-color);
        }
        .interactive-quiz-item:hover {
            background-color: #e9ecef; 
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.07);
        }
        .interactive-quiz-item.selected {
            background-color: var(--theme-primary); 
            color: var(--text-color-on-primary);
            font-weight: 500;
            border-color: var(--theme-primary);
        }
        .interactive-quiz-item.correct {
            background-color: var(--success-bg); 
            color: var(--success-color);
            border-color: #c3e6cb;
        }
        .interactive-quiz-item.incorrect {
            background-color: var(--danger-bg); 
            color: var(--danger-color);
            border-color: #f5c6cb;
        }

        .feedback { 
            margin-top: 12px; 
            padding: 10px 12px; 
            border-radius: 6px;
            font-size: 0.9em; 
            border-left-width: 5px;
            border-left-style: solid;
        }
        .feedback.correct {
            background-color: #e6fff0;
            border-left-color: var(--success-color); 
            color: #1c7430;
        }
        .feedback.incorrect {
            background-color: #fff0f1;
            border-left-color: var(--danger-color); 
            color: var(--danger-color);
        }
        .feedback:empty {
            display: none;
        }


        hr.quiz-divider {
            border: 0;
            height: 1px;
            background-color: var(--border-color);
            margin: 20px 0; 
        }

        .checkbox-option-group {
            display: flex;
            flex-direction: column;
            gap: 8px; 
        }
        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px 10px; 
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }
        .checkbox-item:hover {
            background-color: #e9ecef;
        }
        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            accent-color: var(--theme-primary); 
            width: 16px; 
            height: 16px; 
        }
        .checkbox-item span {
            font-size: 0.95em; 
        }
        .checkbox-item.correct span {
            color: var(--success-color);
            font-weight: bold;
        }
        .checkbox-item.incorrect span {
            text-decoration: line-through;
        }


        .check-answer-button {
            background-color: var(--theme-accent); 
            color: var(--theme-primary); 
            padding: 10px 18px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition-speed), transform 0.2s;
            display: inline-block;
            margin-top: 12px; 
            font-size: 1em;
        }
        .check-answer-button:hover {
            background-color: #e0ac20; 
            transform: translateY(-1px);
        }
        .check-answer-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }

        .drag-drop-interaction-area {
            display: flex;
            flex-direction: column; 
            gap: 15px; 
            margin-top: 12px; 
        }
        #drag-source-q5 {
            padding: 12px; 
            background-color: #e9ecef; 
            border-radius: var(--border-radius);
            min-height: 80px; 
            border: 1px dashed #adb5bd;
        }
        .drag-drop-instruction-text {
            font-weight: 500;
            color: var(--theme-primary);
            margin-bottom: 8px; 
        }
        .draggable-card-item {
            background-color: var(--theme-accent); 
            color: var(--theme-primary); 
            padding: 8px 10px; 
            margin: 6px 0; 
            border-radius: 6px;
            cursor: grab;
            text-align: center;
            border: 1px solid #e0ac20;
            font-weight: 500;
            transition: opacity 0.2s, box-shadow 0.2s;
            font-size: 0.9em; 
        }
        .draggable-card-item:active {
            cursor: grabbing;
            opacity: 0.7;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .draggable-card-item.dragging-active { 
            opacity: 0.5;
        }

        #drop-target-q5 {
            display: flex;
            flex-direction: column;
            gap: 8px; 
        }
        .drop-zone-styled {
            border: 2px dashed var(--theme-primary); 
            padding: 12px; 
            min-height: 45px; 
            border-radius: var(--border-radius);
            background-color: var(--light-bg-color); 
            display: flex;
            align-items: center;
            transition: background-color var(--transition-speed), border-style var(--transition-speed);
            position: relative;
        }
        .drop-zone-number-indicator {
            font-weight: 700;
            color: var(--theme-primary);
            margin-right: 8px; 
            font-size: 1em; 
        }
        .drop-zone-styled.drag-over-active { 
            background-color: #e0e7ff; 
            border-style: solid;
        }
        .drop-zone-styled .draggable-card-item { 
            width: calc(100% - 25px); 
            margin-left: auto; 
        }
        .drop-zone-styled.correct .draggable-card-item {
            border: 2px solid var(--success-color);
        }
        .drop-zone-styled.incorrect .draggable-card-item {
            border: 2px solid var(--danger-color);
        }
        
        .quiz-score-container {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--theme-primary); 
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            color: var(--theme-accent); 
            display: none; 
            border: 2px solid var(--theme-accent);
        }

        .objective-cards {
            list-style: none;
            padding-left: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .objective-card {
            background-color: var(--light-bg-color);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e0e7ff;
            box-shadow: var(--box-shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
        }
        .objective-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.12);
        }
        .objective-card .objective-icon {
            font-size: 2.2em; 
            color: var(--theme-accent);
            margin-bottom: 12px;
            background-color: var(--theme-primary);
            width: 60px; 
            height: 60px; 
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .objective-card .objective-text {
            font-size: 1em;
            color: var(--theme-primary);
            line-height: 1.5;
        }

        .step-flow-container-custom {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 12px; 
            margin-top: 15px;
        }
        .step-card-custom {
            background-color: var(--theme-primary); 
            color: var(--text-color-on-primary);
            border: 1px solid var(--theme-primary);
            border-radius: 10px;
            padding: 15px; 
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed), background-color var(--transition-speed), color var(--transition-speed);
            font-weight: 500;
            font-size: 0.9em; 
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px; 
        }
         .step-card-custom .card-icon { 
            font-size: 2em; 
            margin-bottom: 10px; 
            color: var(--theme-accent); 
        }
        .step-card-custom:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15); 
            background-color: var(--theme-accent); 
            color: var(--theme-primary);
        }
         .step-card-custom:hover .card-icon {
            color: var(--theme-primary); 
        }

        .process-flow-visualization {
            display: flex;
            flex-direction: column;
            gap: 0; 
            position: relative;
            margin-top: 20px;
        }
        .process-flow-step {
            display: flex;
            align-items: flex-start; 
            position: relative;
            padding: 15px 0; 
            padding-left: 55px; 
        }
        .process-flow-step:not(:last-child)::before { 
            content: '';
            position: absolute;
            left: 21px; 
            top: 50px;  
            bottom: -15px; 
            width: 3px; 
            background-color: var(--theme-accent);
            z-index: 1;
        }

        .process-step-indicator {
            position: absolute;
            left: 0;
            top: 15px; 
            width: 44px; 
            height: 44px;
            background-color: var(--theme-accent);
            color: var(--theme-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2em; 
            border: 3px solid var(--theme-primary);
            z-index: 2;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .process-step-content {
            background-color: var(--content-bg-color); 
            padding: 18px 20px; 
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            width: 100%;
            box-shadow: 0 3px 7px rgba(0,0,0,0.07);
        }
        .process-step-content h4 { 
            margin-top: 0;
            margin-bottom: 10px; 
            color: var(--theme-primary);
            font-size: 1.1em; 
        }
        .process-step-content p {
            margin: 0;
            font-size: 1em; 
            line-height: 1.65;
            text-align: left; 
        }
        /* Prompt Analysis Section */
        .prompt-analysis-section {
            margin-top: 25px;
            padding: 20px;
            background-color: #ffe6e6; /* Light red accent for Pademy */
            border-radius: var(--border-radius);
            border: 1px solid #ffcccc;
        }
        .prompt-analysis-section h4 {
            color: var(--theme-primary); 
            margin-top: 0;
        }
        .prompt-example {
            background-color: var(--bg-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            border: 1px dashed #ffb3b3;
        }
        .prompt-example code {
            display: block;
            white-space: pre-wrap;
            font-family: 'Courier New', Courier, monospace;
            background-color: #fffafa; /* Very light red */
            padding: 10px;
            border-radius: 4px;
            color: var(--theme-secondary);
        }
        .prompt-reflection textarea {
            width: calc(100% - 22px);
            min-height: 60px;
            margin-top: 8px;
        }


        .ebook-image-placeholder { 
            width: 100%;
            max-width: 400px; 
            height: auto;
            min-height: 200px; 
            background-color: #e9ecef;
            border: 2px dashed var(--theme-accent); 
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--theme-primary); 
            font-size: 1em; 
            font-weight: 500;
            padding: 20px;
            margin: 25px auto; 
            border-radius: var(--border-radius);
            text-align: center;
        }
        
        #gemini-interaction-area {
            margin-top: 25px;
            padding: 20px;
            background-color: var(--light-bg-color);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }
        #gemini-prompt-input {
            width: calc(100% - 22px); 
            padding: 12px;
            margin-bottom: 12px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            font-family: var(--font-main);
            font-size: 1em;
            box-sizing: border-box;
        }
        #gemini-submit-button {
            background-color: var(--theme-accent);
            color: var(--theme-primary);
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition-speed);
            font-size: 1em;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        #gemini-submit-button:hover {
            background-color: #e0ac20;
        }
        #gemini-submit-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        #gemini-response-area {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            min-height: 50px;
            line-height: 1.6;
            white-space: pre-wrap; 
        }
        .loading-spinner {
           border: 3px solid #f3f3f3;
           border-top: 3px solid var(--theme-primary);
           border-radius: 50%;
           width: 18px;
           height: 18px;
           animation: spin 1s linear infinite;
           display: inline-block;
        }
       @keyframes spin {
           0% { transform: rotate(0deg); }
           100% { transform: rotate(360deg); }
       }

        .final-contact-info {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            font-size: 0.95em;
            line-height: 1.7;
        }
        .final-contact-info p {
            margin-bottom: 8px;
            text-align: left; /* Ensure contact info is left aligned */
        }
        .final-contact-info strong {
            color: var(--theme-primary);
        }
        .final-contact-info a {
            color: var(--theme-secondary);
            text-decoration: none;
        }
        .final-contact-info a:hover {
            text-decoration: underline;
            color: var(--theme-primary);
        }


        /* Responsive adjustments */
        @media (max-width: 768px) {
            body { padding-top: 70px; } 
            .ebook-container {
                height: calc(100vh - 90px); 
                max-width: 100%;
                margin-left: -20px; 
                margin-right: -20px; 
                width: calc(100% + 40px); 
                border-radius: 0;
            }
            .ebook-chapter {
                padding: 20px 25px; 
            }
            .chapter-header-title {
                font-size: 1.8em; 
            }
             .ebook-chapter.cover-page .main-ebook-title-cover { font-size: 2.5em; }
             .ebook-chapter.cover-page .ebook-subtitle-cover { font-size: 1.1em; padding-right: 5%; max-width: 90%;}
             .ebook-chapter.title-chapter .main-ebook-title { font-size: 2.2em; }
             .ebook-chapter.title-chapter .ebook-author { font-size: 1.2em; }

            .chapter-body {
                font-size: 0.95em; 
            }
            .prev-nav, .next-nav {
                width: 38px;
                height: 38px;
                font-size: 16px;
                padding: 8px;
            }
            .prev-nav { left: 10px; }
            .next-nav { right: 10px; }
            .dot-indicator {
                height: 10px;
                width: 10px;
            }
            .option-group {
                grid-template-columns: 1fr; 
            }
            .step-flow-container-custom {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            }
            .objective-cards {
                 grid-template-columns: 1fr;
            }
             .process-flow-step { padding-left: 45px; }
             .process-step-indicator { width: 35px; height: 35px; font-size: 1em; }
             .process-flow-step:not(:last-child)::before { left: 16px; top: 40px; }
        }

        @media (max-width: 480px) {
            body { padding: 10px; padding-top: 70px; }
            .ebook-container { height: calc(100vh - 80px); margin-left: -10px; margin-right: -10px; width: calc(100% + 20px); }
            .ebook-chapter { padding: 15px; }
            .chapter-header-title { font-size: 1.6em; margin-bottom: 15px; }
             .ebook-chapter.cover-page .main-ebook-title-cover { font-size: 2em !important; }
             .ebook-chapter.cover-page .ebook-subtitle-cover { font-size: 1em; max-width: 100%; padding-right: 0; text-align: center;}
             .ebook-chapter.title-chapter .main-ebook-title { font-size: 1.8em !important; }
             .ebook-chapter.title-chapter .ebook-author { font-size: 1.1em; }
            .interactive-quiz-item, .check-answer-button { font-size: 0.9em; padding: 8px; }
            .question-title { font-size: 1em; }
            .feedback { font-size: 0.9em; }
            .objective-card .objective-icon { width: 50px; height: 50px; font-size: 1.8em;}
            .objective-card .objective-text { font-size: 0.9em;}
            .step-card-custom { padding: 12px; font-size: 0.9em; min-height: 80px; }
            .step-card-custom .card-icon { font-size: 1.6em; }
            .process-flow-step { padding-left: 40px; padding-top: 10px; padding-bottom: 10px;}
            .process-step-indicator { width: 30px; height: 30px; font-size: 0.9em; top:10px;}
            .process-flow-step:not(:last-child)::before { left: 14px; top: 35px; bottom: -10px; }
            .process-step-content { padding: 10px; }
            .process-step-content p { font-size: 0.9em; }

            #print-pdf-button { font-size: 0.8em; padding: 6px 10px;}
        }
        
        /* Print Styles */
        @media print {
            body {
                padding-top: 0;
                background-color: var(--bg-color); 
            }
            #global-header, .prev-nav, .next-nav, .dots-navigation-container, #print-pdf-button {
                display: none !important; 
            }
            .ebook-container {
                width: 100%;
                max-width: 100%;
                height: auto !important; 
                box-shadow: none;
                border-radius: 0;
                margin: 0;
                overflow: visible; 
                display: block; 
            }
            .ebook-chapter {
                display: block !important; 
                width: 100%;
                height: auto !important; 
                min-height: 0 !important;
                padding: 20mm 15mm; 
                overflow-y: visible;
                page-break-after: always; 
                box-shadow: none;
                border-bottom: 1px solid var(--border-color); 
            }
            .ebook-chapter:last-child {
                page-break-after: avoid;
                border-bottom: none;
            }
            .chapter-header-title {
                font-size: 1.8em; 
                border-bottom: 2px solid var(--theme-accent);
            }
            .chapter-body {
                font-size: 11pt; 
                line-height: 1.5; 
                text-align: justify;
            }
            .chapter-body h3 { font-size: 14pt; }
            .chapter-body h4 { font-size: 12pt; }

            .quiz-question-container, .objective-card, .step-card-custom, .process-flow-step, #gemini-interaction-area {
                background-color: var(--bg-color); 
                border: 1px solid #ccc; 
            }
            .interactive-quiz-item.selected, .interactive-quiz-item.correct, .interactive-quiz-item.incorrect {
                color: var(--text-color); 
            }
            .interactive-quiz-item.correct {
                 border: 2px solid var(--success-color) !important;
            }
            .interactive-quiz-item.incorrect {
                 border: 2px solid var(--danger-color) !important;
            }
             .feedback {
                border-left-style: solid; 
            }
            .ebook-image-placeholder {
                border-style: solid; 
                max-width: 90%; 
            }
            .process-flow-visualization { page-break-inside: avoid; }
            .process-flow-step { page-break-inside: avoid; }
            .ebook-page-number-placeholder { display: block !important; position: static !important; text-align: center; margin-top: 10mm;}
        }

    </style>
</head>
<body>
    <header id="global-header">
        <img src="https://i.postimg.cc/4d0PH133/LOGO-01.png" alt="Logo Công Ty" id="global-logo"
             onerror="this.onerror=null; this.src='https://placehold.co/150x40/FFFFFF/0A2342?text=Logo&fontsize=14';">
        <button id="print-pdf-button" title="In ra PDF"><i class="fas fa-print"></i> In PDF</button>
    </header>

    <div class="ebook-container">
        <!-- Trang Bìa -->
        <div class="ebook-chapter cover-page">
            <h1 class="main-ebook-title-cover">HÀNH TRANG CHO NHÀ GIÁO DỤC HIỆN ĐẠI</h1>
            <p class="ebook-subtitle-cover">Cẩm nang dành cho thầy cô mới bắt đầu</p>
            <p class="cover-author" style="margin-top: 40px;">Tác giả: Bùi Đăng Minh</p>
            <div class="cover-contact-info">
                <p>Số điện thoại: 0918.888.691</p>
                <p>Email: pademy.vn@gmail.com</p>
            </div>
        </div>

        <!-- Lời Mở Đầu -->
        <div class="ebook-chapter title-chapter"> 
            <div class="chapter-content-wrapper">
                <h2 class="main-ebook-title" style="font-size: 2.2em; border-bottom: 2px solid var(--theme-accent); padding-bottom:10px; margin-bottom:20px;">Lời Mở Đầu</h2>
                <div class="ebook-intro-text">
                    <p>Ebook này được biên soạn nhằm mục đích cung cấp những kiến thức nền tảng và ứng dụng thực tiễn nhất của Trí tuệ Nhân tạo (AI) cho các nhà giáo dục. Chúng tôi mong muốn giúp thầy cô tự tin hơn trong việc tìm hiểu, tiếp cận và từng bước ứng dụng AI vào công việc giảng dạy, quản lý lớp học và phát triển chuyên môn, từ đó nâng cao chất lượng giáo dục và khơi gợi tiềm năng của học sinh trong kỷ nguyên số.</p>
                    <p><strong>Ebook này dành cho:</strong> Tất cả các thầy cô giáo ở mọi cấp học, cán bộ quản lý giáo dục và bất kỳ ai quan tâm đến việc ứng dụng công nghệ AI để đổi mới phương pháp dạy và học. Đặc biệt hữu ích cho những người mới bắt đầu tìm hiểu về AI.</p>
                    <p><strong>Bạn sẽ học được:</strong> Hiểu rõ AI, vai trò của dữ liệu, ứng dụng AI trong giáo dục, kỹ năng viết prompt, làm quen công cụ AI, nhận diện cơ hội và thách thức, và thực hành các quy trình AI cơ bản.</p>
                    <p style="font-style: italic; color: var(--theme-primary); font-weight: 500;">"Kỷ nguyên AI đã đến, mang theo vô vàn cơ hội để chúng ta đổi mới và nâng tầm giáo dục. Ebook này sẽ là người bạn đồng hành, giúp thầy cô không chỉ hiểu về AI mà còn biết cách biến AI thành trợ thủ đắc lực, cùng kiến tạo tương lai học tập sáng tạo và hiệu quả hơn cho thế hệ học trò."</p>
                </div>
                <p class="signature">Bùi Đăng Minh</p>
            </div>
            <div class="ebook-page-number-placeholder"></div>
        </div>

        <!-- Mục Lục -->
        <div class="ebook-chapter toc-chapter">
            <div class="chapter-content-wrapper">
                <h2 class="chapter-header-title" style="text-align: center; border-bottom-style: double; padding-bottom: 15px; color:var(--theme-primary);">MỤC LỤC</h2>
                <ul id="table-of-contents-list">
                    </ul>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>
        
        <!-- Mục tiêu Ebook -->
        <div class="ebook-chapter">
            <h2 class="chapter-header-title" style="color:var(--theme-primary);">Mục Tiêu Ebook</h2>
            <div class="chapter-body">
                 <p>Ebook này được thiết kế với các mục tiêu chính sau nhằm hỗ trợ thầy cô:</p>
                <ul class="objective-cards">
                    <li class="objective-card">
                        <div class="objective-icon"><i class="fas fa-rocket"></i></div>
                        <div class="objective-text">Thầy cô cập nhật công cụ AI tân tiến nhất để không bị tụt hậu.</div>
                    </li>
                    <li class="objective-card">
                        <div class="objective-icon"><i class="fas fa-cogs"></i></div>
                        <div class="objective-text">Ứng dụng AI vào các nhiệm vụ một cách toàn diện để tiết kiệm thời gian.</div>
                    </li>
                    <li class="objective-card">
                        <div class="objective-icon"><i class="fas fa-users"></i></div>
                        <div class="objective-text">Kết nối với học sinh, sinh viên nhằm thúc đẩy tinh thần học tập chủ động.</div>
                    </li>
                </ul>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân:</h4>
                    <textarea placeholder="Ghi chú của bạn về mục tiêu ebook..."></textarea>
                    <p class="notes-disclaimer">(Lưu ý: Ghi chú này chỉ được lưu tạm thời trên trình duyệt này và sẽ mất khi bạn đóng hoặc tải lại ebook.)</p>
                </div>
            </div>
            <div class="ebook-page-number-placeholder"></div>
        </div>


        <!-- Chương 1: Khám phá thế giới AI -->
        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 1: Khám Phá Thế Giới AI</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Giải thích được khái niệm Trí tuệ Nhân tạo (AI) bằng ngôn ngữ đơn giản.</li>
                    <li>Nêu được ít nhất 3 ví dụ về ứng dụng AI trong cuộc sống hàng ngày.</li>
                    <li>Phân biệt sơ lược được AI, Học Máy (Machine Learning) và Học Sâu (Deep Learning).</li>
                    <li>Trình bày được một vài cột mốc quan trọng trong lịch sử phát triển của AI.</li>
                    <li>Lý giải được tầm quan trọng của việc tìm hiểu AI đối với nhà giáo dục hiện đại.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <h3>1.1. AI Không Còn Xa Lạ</h3>
                <p>Thầy cô có để ý rằng mỗi khi lướt Facebook, những nội dung hiện ra dường như 'đọc vị' được sở thích của mình? Hay khi tìm kiếm trên Google, kết quả lại vô cùng liên quan? Đó chính là những ví dụ gần gũi về AI đang hiện diện xung quanh chúng ta. Từ trợ lý ảo trên điện thoại (Siri, Google Assistant), gợi ý phim trên Netflix, đến cả những chiếc xe tự lái đang được thử nghiệm, AI đang dần thay đổi cách chúng ta sống, làm việc và học tập.</p>
                <div class="ebook-image-placeholder">Minh họa: Collage các ứng dụng AI quen thuộc (Netflix, Facebook, Google Search, Siri)</div>

                <h3>1.2. Vậy, AI Là Gì? (Định Nghĩa Đơn Giản Cho Nhà Giáo Dục)</h3>
                <p>Hiểu một cách đơn giản, Trí tuệ Nhân tạo (Artificial Intelligence - AI) là lĩnh vực khoa học máy tính tập trung vào việc tạo ra các hệ thống máy móc có khả năng thực hiện những tác vụ mà thông thường đòi hỏi trí tuệ của con người. Những khả năng đó bao gồm học hỏi, giải quyết vấn đề, nhận dạng mẫu, hiểu ngôn ngữ tự nhiên và đưa ra quyết định.</p>
                <p>Đối với thầy cô, AI không phải là một 'pháp thuật' cao siêu, mà là một công cụ mạnh mẽ, một 'người trợ lý thông minh' có thể hỗ trợ đắc lực trong nhiều hoạt động sư phạm.</p>

                <h3>1.3. "Họ Hàng" Nhà AI: Học Máy và Học Sâu</h3>
                <p>Trong gia đình AI rộng lớn, có hai 'người con' nổi bật là Học Máy (Machine Learning - ML) và Học Sâu (Deep Learning - DL).</p>
                <h4>Học Máy (Machine Learning - ML)</h4>
                <p>Là một nhánh của AI, cho phép máy tính 'học' từ dữ liệu mà không cần được lập trình một cách tường minh cho từng trường hợp cụ thể. Giống như thầy cô dạy học sinh nhận biết các loại quả dựa trên nhiều ví dụ, ML cũng học từ các mẫu dữ liệu để đưa ra dự đoán hoặc quyết định.</p>
                <div class="ebook-image-placeholder">Sơ đồ: Dữ liệu đầu vào -> Mô hình ML -> Dự đoán/Quyết định</div>
                <h4>Học Sâu (Deep Learning - DL)</h4>
                <p>Là một lĩnh vực con của ML, sử dụng các mạng nơ-ron nhân tạo phức tạp (lấy cảm hứng từ bộ não người) với nhiều lớp để tự động trích xuất các đặc trưng từ lượng lớn dữ liệu. Học Sâu đứng sau nhiều đột phá ấn tượng của AI gần đây như nhận diện hình ảnh, xử lý ngôn ngữ tự nhiên.</p>
                <div class="ebook-image-placeholder">Sơ đồ minh họa mạng nơ-ron nhiều lớp</div>
                <p>Thầy cô không nhất thiết phải hiểu sâu về kỹ thuật, nhưng việc biết tên và vai trò của chúng sẽ giúp thầy cô tự tin hơn khi tìm hiểu các ứng dụng AI.</p>

                <h3>1.4. Hành Trình Kỳ Diệu Của AI (Lịch Sử Phát Triển Tóm Tắt)</h3>
                <p>Ý tưởng về máy móc thông minh đã có từ rất lâu, nhưng AI thực sự bắt đầu hình thành từ giữa thế kỷ 20.</p>
                <ul>
                    <li><strong>Những năm 1950:</strong> Hội thảo Dartmouth (1956) được xem là khai sinh ra thuật ngữ "Trí tuệ Nhân tạo".</li>
                    <li><strong>Những "mùa đông" của AI:</strong> Giai đoạn thiếu hụt tài trợ và tiến bộ chậm.</li>
                    <li><strong>Những năm 1990 - 2000:</strong> Sự trỗi dậy của Học Máy, thành công của Deep Blue (IBM) đánh bại kỳ thủ cờ vua Garry Kasparov.</li>
                    <li><strong>Từ 2010 đến nay:</strong> Bùng nổ của Học Sâu nhờ dữ liệu lớn (Big Data) và sức mạnh tính toán (GPU). Sự ra đời của các mô hình ngôn ngữ lớn (LLMs) như GPT, Gemini, mở ra kỷ nguyên AI tạo sinh.</li>
                </ul>
                <div class="ebook-image-placeholder">Timeline trực quan các cột mốc chính của AI</div>

                <h3>1.5. Tại Sao Giáo Viên Cần "Kết Bạn" Với AI?</h3>
                <ul>
                    <li><strong>Nâng cao hiệu quả công việc:</strong> Giảm tải các công việc lặp đi lặp lại, có thêm thời gian cho chuyên môn và tương tác với học sinh.</li>
                    <li><strong>Đổi mới phương pháp giảng dạy:</strong> Tạo ra các trải nghiệm học tập cá nhân hóa, hấp dẫn và tương tác hơn.</li>
                    <li><strong>Chuẩn bị cho học sinh kỹ năng của tương lai:</strong> Giúp học sinh hiểu và sẵn sàng cho một thế giới ngày càng có nhiều AI.</li>
                    <li><strong>Phát triển chuyên môn bản thân:</strong> Không bị tụt hậu trong xu thế công nghệ, mở ra những cơ hội mới.</li>
                </ul>
                <p style="font-style: italic; color: var(--theme-primary); font-weight: 500; text-align: center;">"AI không thay thế giáo viên, mà sẽ là công cụ giúp giáo viên trở nên tuyệt vời hơn!"</p>
                
                <hr class="quiz-divider">
                <h4><i class="fas fa-question-circle"></i> Kiểm tra nhanh kiến thức Chương 1</h4>
                <div class="quiz-question-container" id="q-ch1-1-container">
                    <p class="question-title"><strong>Câu 1:</strong> AI là viết tắt của cụm từ nào?</p>
                    <div class="option-group">
                        <button class="interactive-quiz-item" data-question="q-ch1-1" data-answer="A">A. Artificial Insight</button>
                        <button class="interactive-quiz-item" data-question="q-ch1-1" data-answer="B">B. Automated Intelligence</button>
                        <button class="interactive-quiz-item" data-question="q-ch1-1" data-answer="C">C. Artificial Intelligence</button>
                        <button class="interactive-quiz-item" data-question="q-ch1-1" data-answer="D">D. Algorithmic Integration</button>
                    </div>
                    <div class="feedback" id="feedback-q-ch1-1"></div>
                </div>
                 <div class="quiz-question-container" id="q-ch1-2-container">
                    <p class="question-title"><strong>Câu 2:</strong> Công việc nào sau đây KHÔNG phải là một ứng dụng của AI?</p>
                    <div class="option-group">
                        <button class="interactive-quiz-item" data-question="q-ch1-2" data-answer="A">A. Gợi ý sản phẩm trên trang mua sắm</button>
                        <button class="interactive-quiz-item" data-question="q-ch1-2" data-answer="B">B. Lọc email spam</button>
                        <button class="interactive-quiz-item" data-question="q-ch1-2" data-answer="C">C. Chụp ảnh bằng máy ảnh kỹ thuật số thông thường</button>
                        <button class="interactive-quiz-item" data-question="q-ch1-2" data-answer="D">D. Dịch tự động văn bản</button>
                    </div>
                    <div class="feedback" id="feedback-q-ch1-2"></div>
                </div>

                <h4><i class="fas fa-video"></i> Video bổ sung</h4>
                <p>Xem video ngắn sau để hiểu thêm về AI (5 phút):</p>
                <div class="ebook-image-placeholder">Placeholder: Video "AI là gì trong 5 phút"</div>
                <div class="chapter-summary">
                    <h3>Tóm tắt Chương 1</h3>
                    <ul>
                        <li>AI là công nghệ mô phỏng trí tuệ con người trên máy móc, giúp thực hiện các tác vụ như học hỏi, giải quyết vấn đề.</li>
                        <li>Học Máy và Học Sâu là các nhánh quan trọng của AI, đóng vai trò then chốt trong nhiều ứng dụng hiện đại.</li>
                        <li>AI đã trải qua một hành trình phát triển dài và đang ngày càng trở nên mạnh mẽ.</li>
                        <li>Đối với giáo viên, việc tìm hiểu và ứng dụng AI mang lại nhiều lợi ích thiết thực cho công việc và sự phát triển chuyên môn.</li>
                    </ul>
                     <p class="keywords"><strong>Từ khóa:</strong> Trí tuệ Nhân tạo (AI), Học Máy (ML), Học Sâu (DL), Mạng Nơ-ron.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 1:</h4>
                    <textarea placeholder="Những điểm chính bạn muốn ghi nhớ hoặc câu hỏi thêm..."></textarea>
                     <p class="notes-disclaimer">(Lưu ý: Ghi chú này chỉ được lưu tạm thời trên trình duyệt này và sẽ mất khi bạn đóng hoặc tải lại ebook.)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 2: Dữ Liệu - "Nhiên Liệu" Vàng Của AI</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Giải thích được tại sao dữ liệu lại quan trọng đối với AI.</li>
                    <li>Phân biệt được các dạng dữ liệu cơ bản mà AI thường sử dụng.</li>
                    <li>Hiểu được nguyên tắc GIGO (Garbage In, Garbage Out) và tầm quan trọng của dữ liệu chất lượng.</li>
                    <li>Nêu được ví dụ về nguồn dữ liệu có thể sử dụng để huấn luyện AI trong lĩnh vực giáo dục.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <h3>2.1. Dữ Liệu: "Thức Ăn" Không Thể Thiếu Của AI</h3>
                <p>Nếu AI là một 'bộ não' thông minh, thì dữ liệu chính là 'thức ăn' nuôi dưỡng bộ não đó. Không có dữ liệu, AI không thể học hỏi, không thể đưa ra dự đoán hay quyết định chính xác. Lượng dữ liệu càng lớn và chất lượng càng cao, AI càng có khả năng trở nên 'thông minh' hơn.</p>
                <p>Hãy tưởng tượng thầy cô dạy học sinh về các loài động vật. Thầy cô cần cho các em xem nhiều hình ảnh, video, đọc các mô tả (đó chính là dữ liệu) để các em có thể nhận biết và phân biệt được chúng. AI cũng học theo cách tương tự.</p>

                <h3>2.2. AI "Thích Ăn" Gì? Các Dạng Dữ Liệu Phổ Biến</h3>
                <ul>
                    <li><strong>Văn bản (Text):</strong> Sách, báo, email, bài đăng mạng xã hội, tài liệu học tập, phản hồi của học sinh... AI có thể đọc, hiểu, tóm tắt, dịch thuật, thậm chí là tự tạo ra văn bản.
                        <div class="ebook-image-placeholder" style="max-width: 150px; min-height: 80px; margin: 10px 0;">Icon: Quyển sách/Trang giấy</div>
                    </li>
                    <li><strong>Hình ảnh (Images):</strong> Ảnh chụp, tranh vẽ, ảnh vệ tinh, ảnh y tế... AI có thể nhận diện đối tượng, khuôn mặt, phân loại hình ảnh.
                        <div class="ebook-image-placeholder" style="max-width: 150px; min-height: 80px; margin: 10px 0;">Icon: Máy ảnh</div>
                    </li>
                    <li><strong>Âm thanh (Audio):</strong> Giọng nói, âm nhạc, tiếng động... AI có thể nhận dạng giọng nói, chuyển đổi giọng nói thành văn bản, tạo nhạc.
                         <div class="ebook-image-placeholder" style="max-width: 150px; min-height: 80px; margin: 10px 0;">Icon: Micro/Sóng âm</div>
                    </li>
                    <li><strong>Video:</strong> Kết hợp hình ảnh và âm thanh. AI có thể phân tích nội dung video, nhận diện hành động.
                        <div class="ebook-image-placeholder" style="max-width: 150px; min-height: 80px; margin: 10px 0;">Icon: Máy quay phim</div>
                    </li>
                    <li><strong>Dữ liệu dạng bảng/số liệu (Tabular/Numerical Data):</strong> Điểm số học sinh, kết quả khảo sát, dữ liệu thống kê... AI có thể phân tích xu hướng, dự đoán kết quả.
                        <div class="ebook-image-placeholder" style="max-width: 150px; min-height: 80px; margin: 10px 0;">Icon: Bảng tính/Biểu đồ</div>
                    </li>
                </ul>
                <p>Ngoài ra, AI còn có thể xử lý các dạng dữ liệu phức tạp hơn như dữ liệu cảm biến, dữ liệu không gian địa lý...</p>

                <h3>2.3. GIGO - "Rác Vào Thì Rác Ra": Tầm Quan Trọng Của Dữ Liệu Chất Lượng</h3>
                <p>GIGO là viết tắt của 'Garbage In, Garbage Out', một nguyên tắc vàng trong khoa học máy tính và đặc biệt quan trọng với AI. Nó có nghĩa là nếu chúng ta cung cấp cho AI dữ liệu đầu vào kém chất lượng (sai lệch, không đầy đủ, nhiễu...), thì kết quả đầu ra mà AI tạo ra cũng sẽ không chính xác hoặc vô ích.</p>
                <p>Ví dụ, nếu thầy cô huấn luyện một AI nhận diện chữ viết tay của học sinh bằng những mẫu chữ quá cẩu thả, khó đọc, thì AI đó sẽ rất khó để nhận diện chính xác chữ viết của các em sau này.</p>
                <p>Vì vậy, việc thu thập, làm sạch và chuẩn bị dữ liệu một cách cẩn thận là bước cực kỳ quan trọng trong bất kỳ dự án AI nào.</p>
                <div class="ebook-image-placeholder">Sơ đồ minh họa GIGO: Dữ liệu xấu -> AI -> Kết quả xấu</div>

                <h3>2.4. Nguồn Dữ Liệu Cho AI Trong Giáo Dục</h3>
                <ul>
                    <li><strong>Dữ liệu học tập của học sinh:</strong> Kết quả bài kiểm tra, bài tập về nhà, hồ sơ học tập, tương tác trên hệ thống LMS. (Lưu ý: Cần tuân thủ các quy định về quyền riêng tư và bảo mật dữ liệu).</li>
                    <li><strong>Tài liệu giảng dạy:</strong> Sách giáo khoa, giáo án, bài giảng, tài liệu tham khảo.</li>
                    <li><strong>Dữ liệu từ các nền tảng trực tuyến:</strong> Các khóa học mở (MOOCs), diễn đàn giáo dục, thư viện số.</li>
                    <li><strong>Dữ liệu công khai:</strong> Các bộ dữ liệu nghiên cứu về giáo dục được chia sẻ.</li>
                </ul>
                <p>Việc hiểu rõ các nguồn dữ liệu tiềm năng sẽ giúp thầy cô hình dung được cách AI có thể được huấn luyện để giải quyết các bài toán cụ thể trong lĩnh vực của mình.</p>

                <hr class="quiz-divider">
                <h4><i class="fas fa-tasks"></i> Hoạt động tương tác: Phân loại dữ liệu</h4>
                <p>Hãy kéo các loại thông tin sau vào đúng nhóm dữ liệu mà AI thường sử dụng:</p>
                <div class="drag-drop-interaction-area">
                    <div id="drag-source-ch2">
                        <p class="drag-drop-instruction-text"><strong>Kéo từ đây:</strong></p>
                        <div class="draggable-card-item" draggable="true" id="ch2-item1">Một bài báo khoa học</div>
                        <div class="draggable-card-item" draggable="true" id="ch2-item2">Bản ghi âm bài giảng</div>
                        <div class="draggable-card-item" draggable="true" id="ch2-item3">Bảng điểm cuối kỳ</div>
                        <div class="draggable-card-item" draggable="true" id="ch2-item4">Ảnh chụp một bông hoa</div>
                        <div class="draggable-card-item" draggable="true" id="ch2-item5">Video hướng dẫn thí nghiệm</div>
                    </div>
                    <div id="drop-target-ch2">
                        <p class="drag-drop-instruction-text"><strong>Thả vào đây:</strong></p>
                        <div class="drop-zone-styled" data-type="text"><span class="drop-zone-number-indicator"><i class="fas fa-file-alt"></i></span> Dữ liệu Văn bản</div>
                        <div class="drop-zone-styled" data-type="audio"><span class="drop-zone-number-indicator"><i class="fas fa-volume-up"></i></span> Dữ liệu Âm thanh</div>
                        <div class="drop-zone-styled" data-type="tabular"><span class="drop-zone-number-indicator"><i class="fas fa-table"></i></span> Dữ liệu Số liệu/Bảng</div>
                        <div class="drop-zone-styled" data-type="image"><span class="drop-zone-number-indicator"><i class="fas fa-image"></i></span> Dữ liệu Hình ảnh</div>
                        <div class="drop-zone-styled" data-type="video"><span class="drop-zone-number-indicator"><i class="fas fa-video"></i></span> Dữ liệu Video</div>
                    </div>
                </div>
                <button id="check-ch2-dragdrop" class="check-answer-button">Kiểm tra phân loại</button>
                <div class="feedback" id="feedback-ch2-dragdrop"></div>
                
                <h4><i class="fas fa-question-circle"></i> Kiểm tra nhanh kiến thức Chương 2</h4>
                 <div class="quiz-question-container" id="q-ch2-1-container">
                    <p class="question-title"><strong>Câu 1:</strong> Nguyên tắc GIGO muốn nhấn mạnh điều gì?</p>
                    <div class="option-group">
                        <button class="interactive-quiz-item" data-question="q-ch2-1" data-answer="A">A. AI cần rất nhiều dữ liệu</button>
                        <button class="interactive-quiz-item" data-question="q-ch2-1" data-answer="B">B. Chất lượng dữ liệu đầu vào quyết định chất lượng đầu ra của AI</button>
                        <button class="interactive-quiz-item" data-question="q-ch2-1" data-answer="C">C. AI có thể tự sửa lỗi dữ liệu</button>
                        <button class="interactive-quiz-item" data-question="q-ch2-1" data-answer="D">D. Mọi loại dữ liệu đều hữu ích cho AI</button>
                    </div>
                    <div class="feedback" id="feedback-q-ch2-1"></div>
                </div>

                <div class="chapter-summary">
                    <h3>Tóm tắt Chương 2</h3>
                    <ul>
                        <li>Dữ liệu là yếu tố sống còn, là "nhiên liệu" để AI học hỏi và hoạt động hiệu quả.</li>
                        <li>AI có thể xử lý nhiều dạng dữ liệu khác nhau như văn bản, hình ảnh, âm thanh, số liệu.</li>
                        <li>Chất lượng dữ liệu đầu vào (không "rác") cực kỳ quan trọng để AI cho ra kết quả chính xác (nguyên tắc GIGO).</li>
                        <li>Trong giáo dục, có nhiều nguồn dữ liệu tiềm năng để huấn luyện và ứng dụng AI.</li>
                    </ul>
                    <p class="keywords"><strong>Từ khóa:</strong> Dữ liệu (Data), Dữ liệu có cấu trúc, Dữ liệu phi cấu trúc, Big Data, Làm sạch dữ liệu, GIGO.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 2:</h4>
                    <textarea placeholder="Những điểm chính bạn muốn ghi nhớ hoặc câu hỏi thêm..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Bài Kiểm Tra Ngắn (Phần 1)</h2>
            <div class="chapter-body">
                <div class="quiz-question-container" id="q1-container">
                    <p class="question-title"><strong>Câu 1:</strong> AI chỉ hoạt động tốt khi điều kiện nào được đảm bảo?</p>
                    <div class="option-group">
                        <button class="interactive-quiz-item" data-question="q1" data-answer="A">A. Có tốc độ xử lý mạnh</button>
                        <button class="interactive-quiz-item" data-question="q1" data-answer="B">B. Có kết nối internet ổn định</button>
                        <button class="interactive-quiz-item" data-question="q1" data-answer="C">C. Dữ liệu đầu vào đủ lớn, chất lượng</button>
                        <button class="interactive-quiz-item" data-question="q1" data-answer="D">D. Được cập nhật thường xuyên</button>
                    </div>
                    <div class="feedback" id="feedback-q1"></div>
                </div>
                <hr class="quiz-divider">
                <div class="quiz-question-container" id="q2-container">
                    <p class="question-title"><strong>Câu 2:</strong> Dạng dữ liệu nào sau đây KHÔNG phải là đầu vào phổ biến cho AI?</p>
                    <div class="option-group">
                        <button class="interactive-quiz-item" data-question="q2" data-answer="A">A. Văn bản</button>
                        <button class="interactive-quiz-item" data-question="q2" data-answer="B">B. Hình ảnh</button>
                        <button class="interactive-quiz-item" data-question="q2" data-answer="C">C. Âm thanh</button>
                        <button class="interactive-quiz-item" data-question="q2" data-answer="D">D. Giấy viết tay</button>
                    </div>
                    <div class="feedback" id="feedback-q2"></div>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>
        
        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Bài Kiểm Tra Ngắn (Phần 2)</h2>
            <div class="chapter-body">
                <div class="quiz-question-container" id="q3-container">
                    <p class="question-title"><strong>Câu 3:</strong> Vai trò chính của dữ liệu trong quy trình vận hành AI là gì?</p>
                    <div class="option-group">
                        <button class="interactive-quiz-item" data-question="q3" data-answer="A">A. Giúp AI tạo video</button>
                        <button class="interactive-quiz-item" data-question="q3" data-answer="B">B. Giúp AI sinh code</button>
                        <button class="interactive-quiz-item" data-question="q3" data-answer="C">C. Huấn luyện và kiểm thử mô hình AI</button>
                        <button class="interactive-quiz-item" data-question="q3" data-answer="D">D. Làm đẹp giao diện AI</button>
                    </div>
                    <div class="feedback" id="feedback-q3"></div>
                </div>
                <hr class="quiz-divider">
                <div class="quiz-question-container" id="q4-container">
                    <p class="question-title"><strong>Câu 4 (Chọn nhiều đáp án):</strong> Chọn các dạng dữ liệu đầu vào phù hợp với AI:</p>
                    <div class="checkbox-option-group">
                        <label class="checkbox-item"><input type="checkbox" name="q4" value="VB"><span>Văn bản</span></label>
                        <label class="checkbox-item"><input type="checkbox" name="q4" value="HA"><span>Hình ảnh</span></label>
                        <label class="checkbox-item"><input type="checkbox" name="q4" value="NBT"><span>Nét bút tay chưa số hóa</span></label>
                        <label class="checkbox-item"><input type="checkbox" name="q4" value="AT"><span>Âm thanh</span></label>
                        <label class="checkbox-item"><input type="checkbox" name="q4" value="DLB"><span>Dữ liệu dạng bảng (Excel, CSV)</span></label>
                        <label class="checkbox-item"><input type="checkbox" name="q4" value="CX"><span>Cảm xúc con người</span></label>
                    </div>
                    <button id="check-q4" class="check-answer-button">Kiểm tra Câu 4</button>
                    <div class="feedback" id="feedback-q4"></div>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Bài Kiểm Tra Ngắn (Phần 3 - Hoàn thành)</h2>
            <div class="chapter-body">
                <p class="question-title"><strong>Câu 5:</strong> Quy trình vận hành cơ bản của AI gồm các bước nào sau đây? (Sắp xếp đúng thứ tự)</p>
                <div class="drag-drop-interaction-area">
                    <div id="drag-source-q5">
                        <p class="drag-drop-instruction-text"><strong>Kéo các bước từ đây:</strong></p>
                        </div>
                    <div id="drop-target-q5">
                        <p class="drag-drop-instruction-text"><strong>Thả vào các ô theo đúng thứ tự:</strong></p>
                        <div class="drop-zone-styled" data-order="1"><span class="drop-zone-number-indicator">1</span></div>
                        <div class="drop-zone-styled" data-order="2"><span class="drop-zone-number-indicator">2</span></div>
                        <div class="drop-zone-styled" data-order="3"><span class="drop-zone-number-indicator">3</span></div>
                        <div class="drop-zone-styled" data-order="4"><span class="drop-zone-number-indicator">4</span></div>
                    </div>
                </div>
                <button id="check-q5" class="check-answer-button">Kiểm tra thứ tự</button>
                <div class="feedback" id="feedback-q5"></div>
                <div id="quiz-score-display" class="quiz-score-container"></div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>
        
        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 3: AI "Ra Tay" Trong Lớp Học - Các Ứng Dụng Thực Tiễn</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Liệt kê và mô tả được ít nhất 5 ứng dụng cụ thể của AI trong công tác giảng dạy và quản lý lớp học.</li>
                    <li>Phân tích được lợi ích và một số thách thức tiềm ẩn của từng ứng dụng.</li>
                    <li>Nêu được tên một vài công cụ AI (ví dụ) cho mỗi lĩnh vực ứng dụng.</li>
                    <li>Hình dung được cách áp dụng các công cụ này vào thực tế công việc của mình.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <p>Sau khi hiểu về AI và dữ liệu, chúng ta hãy cùng khám phá xem 'người trợ lý thông minh' này có thể giúp gì cho thầy cô trong lớp học và xa hơn nữa. Dưới đây là một số ứng dụng tiêu biểu mà AI đang và sẽ mang lại cho ngành giáo dục:</p>
                
                <div class="objective-cards">
                    <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-user-graduate"></i></div>
                        <div class="objective-text"><strong>3.1. Cá Nhân Hóa Lộ Trình Học Tập</strong><br>AI phân tích năng lực, sở thích để đề xuất lộ trình, tài liệu phù hợp, giúp học sinh yếu theo kịp, học sinh giỏi không nhàm chán.</div>
                    </div>
                    <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-edit"></i></div>
                        <div class="objective-text"><strong>3.2. Hỗ Trợ Soạn Giáo Án, Slide</strong><br>AI tạo sinh giúp tìm ý tưởng, tạo dàn ý, viết nội dung cơ bản, thiết kế slide nhanh chóng, tiết kiệm thời gian.</div>
                    </div>
                     <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-question"></i></div>
                        <div class="objective-text"><strong>3.3. Tạo Câu Hỏi, Đề Thi Tự Động</strong><br>AI tự động tạo câu hỏi trắc nghiệm, tự luận từ tài liệu, giúp thầy cô có ngân hàng câu hỏi đa dạng.</div>
                    </div>
                     <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-check-double"></i></div>
                        <div class="objective-text"><strong>3.4. Chấm Bài và Phản Hồi Tự Động</strong><br>AI hỗ trợ chấm trắc nghiệm, đưa ra nhận xét ban đầu cho bài tự luận, giúp phản hồi nhanh hơn.</div>
                    </div>
                     <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-comments"></i></div>
                        <div class="objective-text"><strong>3.5. Trợ Lý Ảo Thông Minh</strong><br>Chatbot AI trả lời câu hỏi thường gặp, cung cấp hướng dẫn, hỗ trợ học sinh ngoài giờ lên lớp.</div>
                    </div>
                     <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-chart-line"></i></div>
                        <div class="objective-text"><strong>3.6. Phân Tích Dữ Liệu Học Tập</strong><br>AI phân tích dữ liệu học tập để phát hiện xu hướng, giúp giáo viên can thiệp sư phạm kịp thời.</div>
                    </div>
                     <div class="objective-card">
                        <div class="objective-icon"><i class="fas fa-gamepad"></i></div>
                        <div class="objective-text"><strong>3.7. Tạo Trò Chơi, Hoạt Động Tương Tác</strong><br>AI gợi ý ý tưởng, hỗ trợ tạo trò chơi giáo dục, làm phong phú trải nghiệm học tập.</div>
                    </div>
                </div>
                <p style="margin-top:20px;"><em>(Chi tiết về lợi ích, ví dụ công cụ và thách thức cho từng ứng dụng sẽ được trình bày khi bạn nhấp vào từng mục hoặc trong các phần sau của ebook).</em></p>

                <hr class="quiz-divider">
                <h4><i class="fas fa-lightbulb"></i> Thử thách nhỏ</h4>
                 <div class="quiz-question-container">
                    <p class="question-title">Sau khi tìm hiểu các ứng dụng trên, thầy cô hãy thử suy nghĩ: Nếu được chọn một ứng dụng AI để áp dụng ngay vào công việc của mình, đó sẽ là gì và tại sao? </p>
                    <textarea rows="3" placeholder="Chia sẻ ý tưởng của bạn ở đây..." style="width: calc(100% - 22px); padding: 10px; border-radius: var(--border-radius); border: 1px solid var(--border-color); font-family: var(--font-main);"></textarea>
                    <p style="font-size:0.9em; margin-top:5px;"><em>(Bạn có thể sử dụng tính năng "Ghi chú" của ebook để lưu lại câu trả lời này).</em></p>
                </div>


                <div class="chapter-summary">
                    <h3>Tóm tắt Chương 3</h3>
                    <ul>
                        <li>AI mang đến vô vàn ứng dụng tiềm năng trong giáo dục, từ việc cá nhân hóa lộ trình học, hỗ trợ soạn bài, tạo câu hỏi, chấm bài, đến việc phân tích dữ liệu học tập và tạo các hoạt động tương tác.</li>
                        <li>Mỗi ứng dụng đều có những lợi ích thiết thực giúp nâng cao hiệu quả giảng dạy và học tập, đồng thời cũng đi kèm một số thách thức cần lưu ý.</li>
                        <li>Nhiều công cụ AI đã và đang được phát triển để hỗ trợ giáo viên trong các tác vụ này.</li>
                    </ul>
                    <p class="keywords"><strong>Từ khóa:</strong> Cá nhân hóa học tập, AI Tạo sinh, Hệ thống Quản lý Học tập (LMS), Chatbot, Learning Analytics, Công cụ AI giáo dục.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 3:</h4>
                    <textarea placeholder="Những điểm chính bạn muốn ghi nhớ hoặc câu hỏi thêm..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>
        
        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 4: Khám Phá Các "Trợ Thủ" AI Đắc Lực</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Nhận biết được tên và chức năng chính của ít nhất 3-5 công cụ AI phổ biến hỗ trợ giáo viên.</li>
                    <li>Nắm được các bước cơ bản để bắt đầu sử dụng một công cụ AI mới.</li>
                    <li>Có ý tưởng ứng dụng các công cụ này vào công việc cụ thể của mình.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <p>Thế giới AI vô cùng rộng lớn với hàng ngàn công cụ khác nhau. Trong chương này, chúng ta sẽ cùng điểm qua một số 'trợ thủ' AI tiêu biểu, được nhiều giáo viên trên thế giới tin dùng và có thể giúp ích trực tiếp cho công việc của thầy cô.</p>

                <h3>4.1. Nhóm Công Cụ Tạo Nội Dung Văn Bản</h3>
                <div class="objective-card" style="margin-bottom:15px; text-align:left; align-items:flex-start;">
                    <div style="display:flex; align-items:center; margin-bottom:10px;">
                        <img src="https://placehold.co/40x40/C8102E/FFFFFF?text=GPT&fontsize=12" alt="ChatGPT Logo" style="border-radius:50%; margin-right:10px;">
                        <h4 style="margin:0;">ChatGPT (OpenAI)</h4>
                    </div>
                    <p><strong>Tính năng cho giáo viên:</strong> Soạn dàn ý bài giảng, viết email, tạo câu hỏi, giải thích khái niệm, gợi ý hoạt động. <a href="https://chat.openai.com" target="_blank" style="color:var(--theme-primary); font-weight:bold;">Thử ngay &rarr;</a></p>
                </div>
                <div class="objective-card" style="margin-bottom:15px; text-align:left; align-items:flex-start;">
                     <div style="display:flex; align-items:center; margin-bottom:10px;">
                        <img src="https://placehold.co/40x40/FBC02D/0A2342?text=G&fontsize=14" alt="Gemini Logo" style="border-radius:50%; margin-right:10px;">
                        <h4 style="margin:0;">Gemini (Google)</h4>
                    </div>
                    <p><strong>Tính năng cho giáo viên:</strong> Tìm kiếm thông tin nâng cao, phân tích dữ liệu, tạo nội dung sáng tạo. <a href="https://gemini.google.com" target="_blank" style="color:var(--theme-primary); font-weight:bold;">Thử ngay &rarr;</a></p>
                </div>
                
                <h3>4.2. Nhóm Công Cụ Tạo Bài Thuyết Trình/Slide Tự Động</h3>
                 <div class="objective-card" style="margin-bottom:15px; text-align:left; align-items:flex-start;">
                     <div style="display:flex; align-items:center; margin-bottom:10px;">
                        <img src="https://placehold.co/40x40/1a73e8/FFFFFF?text=GA&fontsize=12" alt="Gamma.app Logo" style="border-radius:50%; margin-right:10px;">
                        <h4 style="margin:0;">Gamma.app</h4>
                    </div>
                    <p><strong>Tính năng cho giáo viên:</strong> Tạo slide, tài liệu, website nhanh chóng từ prompt, tự động thiết kế. <a href="https://gamma.app" target="_blank" style="color:var(--theme-primary); font-weight:bold;">Thử ngay &rarr;</a></p>
                </div>

                <h3>4.3. Nhóm Công Cụ Thiết Kế Đồ Họa và Video (Có Hỗ Trợ AI)</h3>
                <div class="objective-card" style="margin-bottom:15px; text-align:left; align-items:flex-start;">
                     <div style="display:flex; align-items:center; margin-bottom:10px;">
                        <img src="https://placehold.co/40x40/00C4CC/FFFFFF?text=C&fontsize=14" alt="Canva Logo" style="border-radius:50%; margin-right:10px;">
                        <h4 style="margin:0;">Canva AI (Magic Studio)</h4>
                    </div>
                    <p><strong>Tính năng cho giáo viên:</strong> Tạo slide, infographic, worksheet, video ngắn, hình ảnh minh họa với các tính năng AI tích hợp. <a href="https://www.canva.com" target="_blank" style="color:var(--theme-primary); font-weight:bold;">Thử ngay &rarr;</a></p>
                </div>
                <p><em>(Lưu ý: Danh sách công cụ sẽ liên tục được cập nhật. Thầy cô nên tự mình khám phá thêm).</em></p>

                <h3>4.4. Hướng Dẫn Sử Dụng Cơ Bản (Chung)</h3>
                <ul>
                    <li>Truy cập website của công cụ.</li>
                    <li>Đăng ký/Đăng nhập tài khoản (thường có bản miễn phí).</li>
                    <li>Tìm hiểu giao diện: ô nhập prompt, các nút chức năng.</li>
                    <li>Bắt đầu với những yêu cầu đơn giản và thử nghiệm.</li>
                    <li>Tham khảo hướng dẫn, ví dụ có sẵn trên trang của công cụ.</li>
                </ul>
                <p style="font-style: italic; text-align:center; color: var(--theme-primary);">"Đừng ngại 'vọc vạch' và thử nghiệm, đó là cách học nhanh nhất!"</p>
                
                <div class="chapter-summary">
                    <h3>Tóm tắt Chương 4</h3>
                    <ul>
                        <li>Có rất nhiều công cụ AI hữu ích cho giáo viên trong các lĩnh vực như tạo nội dung văn bản, thiết kế bài giảng, đồ họa, video.</li>
                        <li>Các công cụ phổ biến bao gồm ChatGPT, Gemini, Gamma, Canva AI...</li>
                        <li>Việc làm quen và thử nghiệm các công cụ này sẽ giúp thầy cô tìm ra "trợ thủ" đắc lực cho riêng mình.</li>
                    </ul>
                     <p class="keywords"><strong>Từ khóa:</strong> ChatGPT, Gemini, Gamma.app, Canva AI, Công cụ AI tạo nội dung.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 4:</h4>
                    <textarea placeholder="Những công cụ bạn muốn thử nghiệm đầu tiên..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 5: Ứng Dụng AI Trong Soạn Giảng (Kỹ Năng Viết Prompt)</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Giải thích được "prompt" là gì và tại sao nó quan trọng khi làm việc với AI tạo sinh.</li>
                    <li>Nắm vững được các thành phần chính của một prompt hiệu quả.</li>
                    <li>Phân tích được ví dụ về prompt tốt và chưa tốt cho các tác vụ giáo dục.</li>
                    <li>Thực hành viết và cải thiện prompt cho các tình huống cụ thể.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <h3>5.1. Prompt - "Chìa Khóa Vàng" Mở Cánh Cửa AI</h3>
                <p>Khi làm việc với các mô hình AI tạo sinh như ChatGPT hay Gemini, 'prompt' chính là câu lệnh, yêu cầu, hoặc câu hỏi mà chúng ta cung cấp cho AI để nó thực hiện một tác vụ nào đó. Nói một cách ví von, prompt giống như 'chìa khóa' để mở ra khả năng sáng tạo và xử lý thông tin của AI.</p>
                <p>Việc viết prompt rõ ràng, cụ thể và hiệu quả (thường gọi là 'prompt engineering' hay 'kỹ thuật viết prompt') là một kỹ năng cực kỳ quan trọng. Một prompt tốt có thể giúp AI tạo ra kết quả đúng ý, chất lượng cao, trong khi một prompt mơ hồ có thể dẫn đến những phản hồi không liên quan hoặc không hữu ích.</p>
                <div class="ebook-image-placeholder">Minh họa: Người nhập prompt -> AI -> Kết quả</div>

                <h3>5.2. Giải Mã Công Thức PROMPT Cho Nhà Giáo Dục</h3>
                <p>Dù không có một công thức 'bất bại' nào cho mọi tình huống, nhưng một cấu trúc prompt tốt thường bao gồm các yếu tố sau:</p>
                <div class="process-flow-visualization" style="margin-top:0;"> 
                    <div class="process-flow-step">
                        <div class="process-step-indicator" style="background-color: var(--theme-primary); color: var(--theme-accent);">P</div>
                        <div class="process-step-content"><h4>Persona (Vai trò của AI)</h4><p>Yêu cầu AI đóng một vai cụ thể. Ví dụ: 'Hãy đóng vai một giáo viên Lịch sử lớp 10 giàu kinh nghiệm'.</p></div>
                    </div>
                     <div class="process-flow-step">
                        <div class="process-step-indicator" style="background-color: var(--theme-primary); color: var(--theme-accent);">R</div>
                        <div class="process-step-content"><h4>Request/Task (Yêu cầu/Nhiệm vụ)</h4><p>Nêu rõ ràng AI cần làm gì. Ví dụ: 'Hãy soạn một giáo án chi tiết cho bài...'.</p></div>
                    </div>
                     <div class="process-flow-step">
                        <div class="process-step-indicator" style="background-color: var(--theme-primary); color: var(--theme-accent);">O</div>
                        <div class="process-step-content"><h4>Objective/Goal (Mục tiêu)</h4><p>Kết quả cuối cùng bạn muốn đạt được là gì? Ví dụ: '...để giúp học sinh hiểu rõ hơn về nguyên nhân của sự kiện X'.</p></div>
                    </div>
                     <div class="process-flow-step">
                        <div class="process-step-indicator" style="background-color: var(--theme-primary); color: var(--theme-accent);">M</div>
                        <div class="process-step-content"><h4>More Details/Context (Chi tiết/Bối cảnh)</h4><p>Cung cấp thêm thông tin nền, ngữ cảnh. Ví dụ: 'Học sinh của tôi ở trình độ Z'.</p></div>
                    </div>
                     <div class="process-flow-step">
                        <div class="process-step-indicator" style="background-color: var(--theme-primary); color: var(--theme-accent);">P</div>
                        <div class="process-step-content"><h4>Plus Examples/Format (Ví dụ/Định dạng)</h4><p>Cung cấp ví dụ hoặc yêu cầu định dạng cụ thể. Ví dụ: 'Hãy trình bày dưới dạng gạch đầu dòng'.</p></div>
                    </div>
                     <div class="process-flow-step">
                        <div class="process-step-indicator" style="background-color: var(--theme-primary); color: var(--theme-accent);">T</div>
                        <div class="process-step-content"><h4>Tone (Giọng điệu)</h4><p>Bạn muốn AI trả lời với giọng điệu như thế nào? Trang trọng, thân mật, hài hước...?</p></div>
                    </div>
                </div>
                <p style="margin-top:15px;">Không nhất thiết mọi prompt đều phải có đủ tất cả các yếu tố trên, nhưng càng cung cấp thông tin rõ ràng, AI càng dễ 'hiểu' và đáp ứng tốt hơn.</p>

                <h3>5.3. Ví Dụ "Soi" Prompt - Tốt và Chưa Tốt</h3>
                <p><strong>Tình huống:</strong> Soạn câu hỏi ôn tập về Chiến thắng Điện Biên Phủ cho học sinh lớp 9.</p>
                <div style="display:flex; flex-wrap: wrap; gap: 15px; margin-top:10px;">
                    <div style="flex:1; min-width: 280px; padding:15px; border:1px solid var(--danger-color); border-radius:var(--border-radius); background-color: var(--danger-bg);">
                        <h4 style="color:var(--danger-color); margin-top:0;">Prompt chưa tốt:</h4>
                        <p>"Viết câu hỏi về Điện Biên Phủ."</p>
                        <p><em>Phân tích: Quá chung chung, không rõ đối tượng, loại câu hỏi, mục tiêu.</em></p>
                    </div>
                    <div style="flex:1; min-width: 280px; padding:15px; border:1px solid var(--success-color); border-radius:var(--border-radius); background-color: var(--success-bg);">
                        <h4 style="color:var(--success-color); margin-top:0;">Prompt tốt hơn:</h4>
                        <p>"Hãy đóng vai một giáo viên Lịch sử lớp 9. Soạn 5 câu hỏi trắc nghiệm (mỗi câu 4 lựa chọn, 1 đáp án đúng) và 2 câu hỏi tự luận ngắn về ý nghĩa của Chiến thắng Điện Biên Phủ 1954. Mục tiêu là giúp học sinh ôn tập kiến thức cốt lõi của sự kiện này. Câu hỏi cần rõ ràng, phù hợp với trình độ học sinh lớp 9 và bám sát nội dung sách giáo khoa Lịch sử 9."</p>
                        <p><em>Phân tích: Rõ vai trò, nhiệm vụ, số lượng, loại câu hỏi, chủ đề, mục tiêu, đối tượng, yêu cầu về chất lượng.</em></p>
                    </div>
                </div>
                
                <h3>5.4. Thực Hành "Mài Giũa" Prompt Của Bạn</h3>
                <ul>
                    <li>Cách tốt nhất để thành thạo kỹ năng viết prompt là thực hành liên tục.</li>
                    <li>Đừng ngại thử nghiệm nhiều cách diễn đạt khác nhau.</li>
                    <li>Nếu kết quả chưa ưng ý, hãy 'phản biện' lại với AI, yêu cầu nó làm rõ hoặc sửa đổi.</li>
                </ul>

                <hr class="quiz-divider">
                <h4><i class="fas fa-pencil-alt"></i> Tương tác: Phân Tích & Xây Dựng Prompt</h4>
                <div class="prompt-analysis-section">
                    <h4>Ví dụ Prompt 1 (Tạo dàn ý bài giảng):</h4>
                    <div class="prompt-example">
                        <code>
Hãy đóng vai một giáo viên Sinh học giàu kinh nghiệm.
Nhiệm vụ: Tạo dàn ý chi tiết cho một bài giảng 45 phút về chủ đề "Quá trình quang hợp ở thực vật".
Đối tượng: Học sinh lớp 6.
Mục tiêu: Giúp học sinh hiểu được khái niệm quang hợp, các yếu tố ảnh hưởng và vai trò của quang hợp.
Định dạng: Trình bày dưới dạng các mục lớn và các gạch đầu dòng ý nhỏ.
Giọng điệu: Khoa học nhưng dễ hiểu, phù hợp với lứa tuổi.
                        </code>
                    </div>
                    <div class="prompt-reflection">
                        <p><strong>Câu hỏi thảo luận:</strong></p>
                        <ol>
                            <li>Theo bạn, prompt trên đã đủ các yếu tố cần thiết chưa? Nếu chưa, cần bổ sung gì?</li>
                            <li>Nếu AI trả về dàn ý quá sơ sài, bạn sẽ viết prompt tiếp theo như thế nào để yêu cầu AI làm chi tiết hơn?</li>
                        </ol>
                        <textarea rows="3" placeholder="Ghi lại phân tích và ý tưởng prompt của bạn..."></textarea>
                    </div>
                </div>
                <div class="prompt-analysis-section" style="margin-top:15px;">
                    <h4>Thử thách: Xây dựng Prompt của bạn!</h4>
                    <p>Giả sử bạn muốn AI giúp tạo một hoạt động khởi động bài học cho môn Ngữ Văn lớp 8, chủ đề "Truyện Kiều". Hãy viết một prompt hoàn chỉnh để yêu cầu AI thực hiện nhiệm vụ này.</p>
                    <textarea id="user-prompt-challenge" rows="5" placeholder="Viết prompt của bạn ở đây..." style="width: calc(100% - 22px); padding: 10px; border-radius: var(--border-radius); border: 1px solid var(--border-color); font-family: var(--font-main); margin-bottom:10px;"></textarea>
                    <button class="check-answer-button" onclick="document.getElementById('feedback-prompt-challenge').style.display='block'">Xem gợi ý đánh giá</button>
                    <div class="feedback" id="feedback-prompt-challenge" style="display:none; margin-top:10px;">
                        <p><strong>Gợi ý đánh giá prompt của bạn:</strong></p>
                        <ul>
                            <li>Đã xác định rõ vai trò cho AI chưa? (Ví dụ: chuyên gia thiết kế hoạt động, giáo viên Văn...)</li>
                            <li>Nhiệm vụ (tạo hoạt động khởi động) có cụ thể không?</li>
                            <li>Mục tiêu của hoạt động khởi động là gì (tạo hứng thú, gợi mở kiến thức...)?</li>
                            <li>Có cung cấp đủ bối cảnh (môn học, lớp, chủ đề) không?</li>
                            <li>Có yêu cầu về định dạng hoặc thời lượng hoạt động không?</li>
                            <li>Giọng điệu mong muốn cho hoạt động là gì?</li>
                        </ul>
                    </div>
                </div>


                <div class="chapter-summary">
                    <h3>Tóm tắt Chương 5</h3>
                    <ul>
                        <li>Prompt là "mệnh lệnh" chúng ta đưa cho AI; chất lượng prompt quyết định chất lượng phản hồi.</li>
                        <li>Một prompt hiệu quả thường bao gồm các yếu tố: Vai trò của AI, Yêu cầu cụ thể, Mục tiêu, Bối cảnh chi tiết, và có thể cả Ví dụ/Định dạng mong muốn.</li>
                        <li>Thực hành thường xuyên và không ngại thử nghiệm là chìa khóa để viết prompt ngày càng tốt hơn.</li>
                    </ul>
                     <p class="keywords"><strong>Từ khóa:</strong> Prompt, Prompt Engineering, Mô hình Ngôn ngữ Lớn (LLM), Kỹ thuật viết prompt, Soạn giảng với AI.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 5:</h4>
                    <textarea placeholder="Những ý tưởng prompt bạn muốn thử nghiệm..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>
        
        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 6: Ứng Dụng AI Trong Soạn Giáo Án Slide</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Nắm vững các bước để ứng dụng AI vào việc soạn giáo án và tạo slide bài giảng.</li>
                    <li>Biết cách sử dụng kết hợp các công cụ AI khác nhau để tối ưu hóa quy trình.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <p>Dưới đây là một quy trình gợi ý gồm 8 bước để thầy cô có thể ứng dụng AI vào việc soạn giáo án và tạo slide một cách hiệu quả, tiết kiệm thời gian:</p>
                <div class="process-flow-visualization">
                    <div class="process-flow-step">
                        <div class="process-step-indicator">1</div>
                        <div class="process-step-content"><p>Vào Notebook LM (hoặc Google Drive, OneNote...) tạo không gian làm việc, đặt tên theo môn học và lớp mình giảng dạy.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">2</div>
                        <div class="process-step-content"><p>Tải sách giáo khoa (file PDF, Word), kế hoạch giảng dạy được phân công, và các công văn tiêu chuẩn đầu ra của cấp dạy vào không gian làm việc đó.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">3</div>
                        <div class="process-step-content"><p>Đặt câu lệnh với chatbot (trong NotebookLM hoặc ChatGPT có khả năng đọc file): yêu cầu AI tóm tắt hoặc trích xuất nội dung chính cho tiết học, bài học, chương học cụ thể từ các tài liệu đã tải lên.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">4</div>
                        <div class="process-step-content"><p>Copy nội dung AI tóm tắt sang một trợ lý AI khác như ChatGPT hoặc Gemini. Đặt câu lệnh yêu cầu AI soạn lại thành một giáo án chi tiết hơn, mượt mà câu chữ, có cấu trúc rõ ràng (mở bài, thân bài, kết luận, hoạt động gợi ý...).</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">5</div>
                        <div class="process-step-content"><p>Chuyển giáo án (bản word hoặc text) thành cấu trúc các thẻ slide bằng cách đặt câu lệnh cho ChatGPT/Gemini. Yêu cầu AI tóm tắt mỗi ý chính thành gạch đầu dòng cho từng slide.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">6</div>
                        <div class="process-step-content"><p>Copy văn bản cấu trúc thẻ slide vào <a href="https://www.bibcit.com/en/massivemark" target="_blank" style="color:var(--theme-primary); font-weight:bold;">https://www.bibcit.com/en/massivemark</a> nếu có ký tự đặc biệt như môn Toán, Lý, Hoá để đảm bảo hiển thị đúng (nếu không có ký tự đặc biệt, có thể bỏ qua bước này).</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">7</div>
                        <div class="process-step-content"><p>Vào Gamma AI hoặc Kimi AI (hoặc các công cụ tạo slide tự động khác như Tome.app) và dán nội dung cấu trúc thẻ slide vào để AI tự động tạo bài thuyết trình.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">8</div>
                        <div class="process-step-content"><p>Chỉnh sửa chi tiết slide: thay đổi hình ảnh, font chữ, màu sắc trực tiếp trên công cụ AI tạo slide. Nếu cần tùy chỉnh sâu hơn, có thể tải file về (PPTX, PDF) và đưa lên Canva để hoàn thiện.</p></div>
                    </div>
                </div>
                <div class="ebook-image-placeholder">Minh họa: Sơ đồ các công cụ AI trong quy trình soạn giáo án</div>
                 <div class="chapter-summary">
                    <h3>Tóm tắt Chương 6</h3>
                    <p>Quy trình 8 bước này giúp thầy cô tận dụng sức mạnh của nhiều công cụ AI khác nhau để tự động hóa và tối ưu hóa việc soạn giáo án cũng như tạo slide bài giảng, từ khâu chuẩn bị tài liệu đến hoàn thiện sản phẩm cuối cùng.</p>
                     <p class="keywords"><strong>Từ khóa:</strong> Soạn giáo án AI, Tạo slide AI, NotebookLM, Gamma.app, Quy trình làm việc.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 6:</h4>
                    <textarea placeholder="Những công cụ bạn muốn thử nghiệm trong quy trình này..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 7: Ứng Dụng AI Tạo Video Từ Ảnh</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Hiểu các bước để biến hình ảnh tĩnh (ví dụ: trang sách giáo khoa) thành video bài giảng sinh động.</li>
                    <li>Biết cách sử dụng AI để tạo kịch bản, chuyển ảnh thành video, và lồng tiếng.</li>
                </ul>
            </div>
            <div class="chapter-body">
                 <p>Video là một công cụ giảng dạy trực quan và hấp dẫn. Với sự hỗ trợ của AI, việc tạo video từ hình ảnh trở nên dễ dàng hơn bao giờ hết. Dưới đây là quy trình 9 bước:</p>
                 <div class="process-flow-visualization">
                    <div class="process-flow-step">
                        <div class="process-step-indicator">1</div>
                        <div class="process-step-content"><p>Chụp ảnh Sách giáo khoa (SGK) cần làm video, hoặc lựa chọn các hình ảnh, tình huống phù hợp để làm video minh họa.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">2</div>
                        <div class="process-step-content"><p>Làm nét lại ảnh SGK nếu bị mờ hoặc vỡ hình bằng các công cụ chỉnh sửa ảnh (ví dụ: Canva, các app làm nét ảnh AI) và tải ảnh chất lượng cao về máy.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">3</div>
                        <div class="process-step-content"><p>Chọn công cụ AI chuyển từ ảnh sang video. Một số gợi ý: Kling AI, Vidu AI, Dreamina AI, RunwayML Gen-2, Pika Labs.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">4</div>
                        <div class="process-step-content"><p>Vào ChatGPT (hoặc Gemini), tải ảnh sẽ dùng làm video lên và yêu cầu AI viết prompt (bằng tiếng Anh hoặc tiếng Việt tùy theo yêu cầu của công cụ tạo video) để chuyển đổi ảnh thành video theo kịch bản/tình huống thầy cô mong muốn.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">5</div>
                        <div class="process-step-content"><p>Copy prompt từ ChatGPT, tải ảnh SGK (hoặc ảnh đã chuẩn bị) lên công cụ AI chuyển ảnh sang video đã chọn ở bước 3 để thực hiện tạo video từ ảnh (Gen Ảnh => Video).</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">6</div>
                        <div class="process-step-content"><p>Thực hiện lồng tiếng bằng AI theo kịch bản đã có (từ SGK hoặc do ChatGPT viết). Các công cụ lồng tiếng AI: Vbee, FPT.AI Text to Speech, Murf.ai, ElevenLabs.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">7</div>
                        <div class="process-step-content"><p>Tải file âm thanh lồng tiếng và file video đã được AI tạo ra về một thư mục dễ tìm kiếm trong máy tính.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">8</div>
                        <div class="process-step-content"><p>Sử dụng các phần mềm chỉnh sửa video như Canva Pro, Capcut (PC hoặc mobile), Adobe Premiere Pro... để ghép video gốc, âm thanh lồng tiếng, thêm nhạc nền (nếu có), và tạo phụ đề tự động (nếu cần).</p></div>
                    </div>
                     <div class="process-flow-step">
                        <div class="process-step-indicator">9</div>
                        <div class="process-step-content"><p>Xuất file video hoàn chỉnh và chèn vào slide bài giảng, hệ thống LMS, hoặc chia sẻ với học sinh.</p></div>
                    </div>
                </div>
                 <div class="ebook-image-placeholder">Minh họa: Sơ đồ các bước tạo video từ ảnh với AI</div>
                 <div class="chapter-summary">
                    <h3>Tóm tắt Chương 7</h3>
                    <p>Quy trình này cho phép thầy cô biến những hình ảnh tĩnh thành các video bài giảng sinh động, trực quan hơn, giúp tăng cường sự thu hút và hiệu quả tiếp thu kiến thức cho học sinh.</p>
                     <p class="keywords"><strong>Từ khóa:</strong> AI tạo video, Video từ ảnh, Lồng tiếng AI, Kling AI, Vidu AI.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 7:</h4>
                    <textarea placeholder="Ý tưởng video bạn muốn tạo..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 8: Ứng Dụng AI Tạo Trò Chơi Tương Tác</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Biết cách sử dụng AI để lên ý tưởng và tạo prompt cho trò chơi tương tác.</li>
                    <li>Nắm được các bước cơ bản để tạo trò chơi bằng công cụ thiết kế có tích hợp AI (ví dụ: Canva AI).</li>
                </ul>
            </div>
            <div class="chapter-body">
                <p>Trò chơi tương tác là một cách tuyệt vời để "gamify" hóa việc học, giúp học sinh hứng thú và ghi nhớ kiến thức tốt hơn. AI có thể hỗ trợ thầy cô trong việc này:</p>
                <div class="process-flow-visualization">
                    <div class="process-flow-step">
                        <div class="process-step-indicator">1</div>
                        <div class="process-step-content"><p>Đặt câu lệnh cho ChatGPT (hoặc Gemini) gợi ý ý tưởng trò chơi tương tác phù hợp với bài học, mục tiêu học tập (ôn tập, kiểm tra, tạo không khí...). Nêu rõ nếu bạn dự định sử dụng một công cụ cụ thể như Canva AI để AI đưa ra gợi ý phù hợp.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">2</div>
                        <div class="process-step-content"><p>Khi đã ưng ý với một ý tưởng trò chơi, hãy yêu cầu ChatGPT viết một prompt chi tiết để tạo trò chơi này trong công cụ bạn đã chọn (ví dụ: Canva AI), giúp việc copy và dán sau này thuận tiện hơn.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">3</div>
                        <div class="process-step-content"><p>Copy prompt vừa tạo từ ChatGPT. Mở Canva, tìm đến tính năng AI (ví dụ: Magic Design, hoặc các app tích hợp có khả năng tạo game/tương tác từ prompt). Dán prompt vào ô chat/yêu cầu. Nếu có tùy chọn "viết code cho tôi" hoặc tương tự, hãy kích hoạt nó.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">4</div>
                        <div class="process-step-content"><p>Chờ một lát để AI xử lý và tạo bản xem trước của trò chơi. Hãy chơi thử. Nếu cần điều chỉnh (ví dụ: thay đổi luật chơi, thêm câu hỏi, sửa màu sắc), hãy đặt tiếp câu lệnh cho AI ngay tại đó để tinh chỉnh.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">5</div>
                        <div class="process-step-content"><p>Khi đã hài lòng với bản game, hãy tìm tùy chọn "Sử dụng trong thiết kế" (hoặc tương tự) và chọn định dạng đầu ra phù hợp. Nếu Canva AI hỗ trợ xuất dưới dạng "Trang web" tương tác, hãy chọn nó.</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">6</div>
                        <div class="process-step-content"><p>Nếu bạn chọn "Trang web", Canva có thể chuyển bạn sang một trang mới để cấu hình thêm. Tìm và nhấp vào nút "Đăng trang web" (Publish website).</p></div>
                    </div>
                    <div class="process-flow-step">
                        <div class="process-step-indicator">7</div>
                        <div class="process-step-content"><p>Canva sẽ cung cấp một đường link đến trang web công khai chứa trò chơi của bạn. Thầy cô có thể gửi link này cho học sinh để chơi, hoặc mở trực tiếp trên máy chiếu trong lớp học.</p></div>
                    </div>
                </div>
                 <div class="ebook-image-placeholder">Minh họa: Từ ý tưởng game -> Giao diện Canva AI -> Link game</div>
                 <div class="chapter-summary">
                    <h3>Tóm tắt Chương 8</h3>
                    <p>AI có thể là một nguồn cảm hứng và công cụ hỗ trợ đắc lực giúp thầy cô tạo ra các trò chơi tương tác hấp dẫn, làm phong phú thêm hoạt động dạy và học, từ khâu lên ý tưởng đến triển khai sản phẩm cuối cùng.</p>
                     <p class="keywords"><strong>Từ khóa:</strong> Gamification, Trò chơi tương tác, Canva AI, AI tạo game.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 8:</h4>
                    <textarea placeholder="Ý tưởng trò chơi bạn muốn thử nghiệm..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter">
            <h2 class="chapter-header-title">Chương 9: Hỏi AI về Giáo Dục - Tương Tác Với Gemini</h2>
            <div class="chapter-objectives">
                <p><strong>Mục tiêu học tập chương này:</strong></p>
                <ul>
                    <li>Trải nghiệm việc đặt câu hỏi cho một mô hình AI (Gemini).</li>
                    <li>Thực hành kỹ năng viết prompt đã học ở Chương 4.</li>
                    <li>Nhận được thông tin hoặc ý tưởng bổ sung về ứng dụng AI trong giáo dục.</li>
                </ul>
            </div>
            <div class="chapter-body">
                <p>Bây giờ là lúc thầy cô trực tiếp "trò chuyện" với AI! Hãy sử dụng những kiến thức về viết prompt đã học để đặt những câu hỏi liên quan đến việc ứng dụng AI trong công việc giảng dạy của mình. Gemini sẽ cố gắng đưa ra những câu trả lời hữu ích.</p>
                <div id="gemini-interaction-area">
                    <textarea id="gemini-prompt-input" rows="5" placeholder="Ví dụ: 'Làm thế nào để sử dụng AI tạo câu hỏi ôn tập cho môn Toán lớp 7 hiệu quả?' hoặc 'Gợi ý một số hoạt động AI có thể hỗ trợ học sinh tự kỷ học tập tốt hơn.'"></textarea>
                    <button id="gemini-submit-button">
                        <i class="fas fa-paper-plane"></i> Gửi câu hỏi cho Gemini
                        <div class="loading-spinner" style="display: none;"></div>
                    </button>
                    <div id="gemini-response-area">
                        <p style="color: #777; font-style: italic;">Câu trả lời của AI sẽ xuất hiện ở đây sau khi bạn gửi câu hỏi.</p>
                    </div>
                </div>
                 <div class="chapter-summary">
                    <h3>Tóm tắt Chương 9</h3>
                    <ul>
                        <li>Tương tác trực tiếp với AI là cách tốt để hiểu hơn về khả năng của nó.</li>
                        <li>Kỹ năng viết prompt tốt giúp nhận được câu trả lời chất lượng hơn từ AI.</li>
                        <li>AI có thể là một nguồn tham khảo ý tưởng và thông tin hữu ích cho công việc giáo dục.</li>
                    </ul>
                     <p class="keywords"><strong>Từ khóa:</strong> Gemini API, Tương tác AI, Hỏi đáp AI, AI trong giáo dục.</p>
                </div>
                 <div class="notes-area">
                    <h4>Ghi chú cá nhân cho Chương 9:</h4>
                    <textarea placeholder="Câu hỏi bạn muốn hỏi Gemini..."></textarea>
                     <p class="notes-disclaimer">(Ghi chú này chỉ lưu tạm thời trên trình duyệt này)</p>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>

        <div class="ebook-chapter title-chapter"> 
            <div class="chapter-content-wrapper">
                <h2 class="main-ebook-title" style="font-size: 2.5em; color: var(--theme-primary);">Lời Kết</h2>
                <div class="ebook-intro-text" style="font-size: 1.05em;">
                    <p>Hành trình khám phá thế giới AI dành cho nhà giáo dục của chúng ta đến đây là tạm kết thúc, nhưng cánh cửa học hỏi và ứng dụng AI vẫn luôn rộng mở. Ebook "AI Khai Sáng: Hành Trang Cho Nhà Giáo Dục Hiện Đại" đã cố gắng cung cấp cho thầy cô những kiến thức nền tảng, những công cụ hữu ích và những quy trình thực tiễn để bắt đầu.</p>
                    <p><strong>Những điểm chính cần ghi nhớ:</strong> AI là một công cụ mạnh mẽ, dữ liệu là nền tảng, kỹ năng viết prompt là chìa khóa, và có vô vàn ứng dụng AI trong giáo dục. Quan trọng hơn cả là nhận diện cơ hội, đối mặt thách thức và giữ vững vai trò trung tâm của nhà giáo dục.</p>
                    <p>AI đang phát triển không ngừng. Hãy giữ tinh thần ham học hỏi, sẵn sàng thử nghiệm và chia sẻ kinh nghiệm với đồng nghiệp. Hãy nhớ rằng, AI là trợ thủ, không phải là người thay thế. Mục tiêu cuối cùng của chúng ta là sử dụng AI để nâng cao chất lượng dạy và học, khơi gợi tiềm năng và niềm đam mê học tập của học sinh.</p>
                    <p><strong>Nguồn tài liệu tham khảo thêm:</strong></p>
                    <ul style="list-style: disc; text-align:left; max-width: 500px; margin: 10px auto;">
                        <li>Các blog công nghệ giáo dục: EdTechReview, EdSurge (tiếng Anh).</li>
                        <li>Tìm kiếm các nhóm Facebook/Cộng đồng: "Ứng dụng AI cho giáo viên Việt Nam".</li>
                        <li>Kênh YouTube của các chuyên gia giáo dục chia sẻ về AI.</li>
                    </ul>
                    <p style="font-weight: bold; color: var(--theme-primary); margin-top: 25px;">Chúc thầy cô thành công trên hành trình chinh phục AI và mang đến những bài học đột phá, truyền cảm hứng cho học trò của mình!</p>
                </div>
                <div class="final-contact-info">
                    <p><strong>Liên hệ với chúng tôi:</strong></p>
                    <p><i class="fas fa-phone-alt"></i> Số điện thoại: <a href="tel:0918888691">0918.888.691</a></p>
                    <p><i class="fas fa-envelope"></i> Email: <a href="mailto:pademy.vn@gmail.com">pademy.vn@gmail.com</a></p>
                    <p><i class="fab fa-facebook"></i> Facebook: <a href="https://www.facebook.com/Pademy2023" target="_blank">https://www.facebook.com/Pademy2023</a></p>
                </div>
                 <div class="quiz-question-container" style="max-width: 600px; margin-top: 20px; text-align:left;">
                    <p class="question-title">Chúng tôi rất mong nhận được ý kiến đóng góp của thầy cô để hoàn thiện ebook này hơn nữa. Xin vui lòng chia sẻ cảm nhận và đề xuất của bạn!</p>
                    <textarea rows="3" placeholder="Góp ý của bạn..." style="width: calc(100% - 22px); padding: 10px; border-radius: var(--border-radius); border: 1px solid var(--border-color); font-family: var(--font-main);"></textarea>
                    <button class="check-answer-button" style="margin-top:10px;" onclick="alert('Cảm ơn những đóng góp quý báu của thầy/cô!')">Gửi phản hồi</button>
                </div>
            </div>
             <div class="ebook-page-number-placeholder"></div>
        </div>


        <a class="prev-nav" onclick="plusChapters(-1)">&#10094;</a>
        <a class="next-nav" onclick="plusChapters(1)">&#10095;</a>
    </div>

    <div class="dots-navigation-container">
        </div>

    <script>
        let currentChapterIndex = 0; 
        let chapters = []; 
        let dots = [];
        let userCorrectAnswers = 0;
        const totalQuizQuestions = 5; 

        const mainQuizQuestionIds = ['q1', 'q2', 'q3']; 
        const mainQuizCorrectAnswers = {
            'q1': { correct: 'C', feedback: 'Dữ liệu là “nhiên liệu” của AI...' },
            'q2': { correct: 'D', feedback: 'AI thường tiếp nhận dữ liệu số hóa...' },
            'q3': { correct: 'C', feedback: 'Dữ liệu giúp AI “học” qua huấn luyện...' },
            'q-ch1-1': { correct: 'C', feedback: 'AI là viết tắt của Artificial Intelligence...'},
            'q-ch1-2': { correct: 'C', feedback: 'Chụp ảnh bằng máy ảnh số thông thường...'},
            'q-ch2-1': { correct: 'B', feedback: 'GIGO (Garbage In, Garbage Out) nghĩa là...'}
        };


        document.addEventListener('DOMContentLoaded', () => {
            console.log("Ebook DOM fully loaded and parsed.");
            chapters = Array.from(document.querySelectorAll(".ebook-container .ebook-chapter"));
            const dotsContainer = document.querySelector(".dots-navigation-container");
            const tocList = document.getElementById('table-of-contents-list');

            if (chapters.length > 0) {
                // Generate ToC
                if (tocList) {
                    console.log("Generating Table of Contents...");
                    chapters.forEach((chapter, index) => {
                        if (index === 0 || index === 1) return; // Skip Cover Page (0) and ToC page (1)

                        const headerTitleEl = chapter.querySelector('.chapter-header-title');
                        if (headerTitleEl) {
                            const chapterTitle = headerTitleEl.textContent.trim();
                            const listItem = document.createElement('li');
                            const link = document.createElement('a');
                            link.href = "#";
                            
                            let iconHtml = "";
                            let displayTitle = chapterTitle;

                            if (chapterTitle.startsWith("Bài Kiểm Tra Ngắn")) {
                                iconHtml = `<i class="fas fa-pencil-alt toc-icon"></i> `;
                            } else if (chapterTitle.includes("Hỏi AI Về Giáo Dục")) {
                                iconHtml = `<i class="fas fa-brain toc-icon"></i> `;
                            } else if (chapterTitle.startsWith("Lời Kết")) {
                                 iconHtml = `<i class="fas fa-flag-checkered toc-icon"></i> `;
                            } else if (chapterTitle.startsWith("Mục Tiêu Ebook")) {
                                 iconHtml = `<i class="fas fa-bullseye toc-icon"></i> `;
                            } else { 
                                const match = chapterTitle.match(/^Chương\s*(\d+):(.*)/);
                                if (match && match[1] && match[2]) {
                                    iconHtml = `<span class="toc-chapter-number">${match[1]}</span> `;
                                    displayTitle = match[2].trim(); 
                                } else {
                                     iconHtml = `<i class="fas fa-file-alt toc-icon"></i> `;
                                }
                            }
                            link.innerHTML = iconHtml + displayTitle;

                            link.onclick = (e) => {
                                e.preventDefault();
                                navigateToChapter(index);
                            };
                            listItem.appendChild(link);
                            tocList.appendChild(listItem);
                        } else {
                            // console.warn(`Chapter at index ${index} does not have a .chapter-header-title element and will not be added to ToC.`);
                        }
                    });
                    // console.log("Table of Contents generated.");
                } else {
                    console.warn("Table of Contents list element (#table-of-contents-list) not found.");
                }


                // Generate dots for navigation
                if (dotsContainer) {
                    for (let i = 0; i < chapters.length; i++) {
                        let dot = document.createElement("span");
                        dot.classList.add("dot-indicator");
                        dot.setAttribute("onclick", "navigateToChapter(" + i + ")");
                        dotsContainer.appendChild(dot);
                        dots.push(dot);
                    }
                } else {
                     console.warn("Dots navigation container not found.");
                }
                showChapter(0); 
            } else {
                console.error("No chapters found in the ebook container.");
            }

            // Initialize interactive elements
            try {
                initializeInteractiveQuizItems(); 
                initializeCheckboxQuiz();
                initializeDragAndDropQuiz();
                initializeGeminiInteraction(); 
                initializeChapter1Quiz(); 
                initializeChapter2DragDrop();
            } catch (e) {
                console.error("Error during quiz/interaction initialization:", e);
            }


            const printButton = document.getElementById('print-pdf-button');
            if(printButton) {
                printButton.addEventListener('click', () => {
                    window.print();
                });
            } else {
                console.warn("Print button not found.");
            }

            document.addEventListener('keydown', function(event) {
                if (event.key === 'ArrowLeft' || event.key === 'PageUp') {
                    plusChapters(-1); 
                } else if (event.key === 'ArrowRight' || event.key === 'PageDown') {
                    plusChapters(1); 
                }
            });
            // console.log("Ebook initialization complete.");
        });

        function plusChapters(n) { 
            showChapter(currentChapterIndex + n); 
        }

        function navigateToChapter(n) { 
            showChapter(n); 
        }

        function showChapter(n) { 
            if (!chapters || chapters.length === 0) {
                console.error("`chapters` array is not initialized or empty in showChapter.");
                return;
            }
            if (n >= chapters.length) {
                currentChapterIndex = chapters.length - 1;
            } else if (n < 0) {
                currentChapterIndex = 0;
            } else {
                currentChapterIndex = n;
            }

            chapters.forEach(chapter => chapter.classList.remove('active-chapter')); 
            if(dots.length > 0 && dots[currentChapterIndex]) { // Check if dots array and specific dot exist
                 dots.forEach(dot => dot.classList.remove('active-dot'));
                 dots[currentChapterIndex].classList.add('active-dot');
            }


            if (chapters[currentChapterIndex]) {
                chapters[currentChapterIndex].classList.add('active-chapter'); 
                if (chapters[currentChapterIndex].scrollTop > 0) {
                    chapters[currentChapterIndex].scrollTop = 0;
                }
                const pageNumberPlaceholder = chapters[currentChapterIndex].querySelector('.ebook-page-number-placeholder');
                if(pageNumberPlaceholder){
                    if (currentChapterIndex > 1) { 
                         pageNumberPlaceholder.textContent = `Trang ${currentChapterIndex - 1}`; 
                    } else {
                        pageNumberPlaceholder.textContent = ''; 
                    }
                }

            }
            // Redundant check, already handled above
            // if (dots[currentChapterIndex]) {
            //     dots[currentChapterIndex].classList.add('active-dot');
            // }

            const prevButton = document.querySelector('.prev-nav');
            const nextButton = document.querySelector('.next-nav');
            if (prevButton && nextButton) {
                prevButton.style.display = currentChapterIndex === 0 ? 'none' : 'flex';
                nextButton.style.display = currentChapterIndex === chapters.length - 1 ? 'none' : 'flex';
            }
        }
        
        function displayQuizScore() {
            const scoreDisplay = document.getElementById('quiz-score-display');
            if (scoreDisplay) {
                scoreDisplay.innerHTML = `Điểm của bạn: ${userCorrectAnswers} / ${totalQuizQuestions}`;
                scoreDisplay.style.display = 'block';
            }
        }
        
        function handleQuizOptionClick(option, questionId, selectedAnswer, feedbackEl, allOptionsForThisQuestion, questionContainer, specificCorrectAnswers) {
            if (!option || !feedbackEl || !allOptionsForThisQuestion || !questionContainer || !specificCorrectAnswers) {
                // console.error("Missing element in handleQuizOptionClick for question:", questionId);
                return;
            }
            if (questionContainer.classList.contains('answered')) return;
            questionContainer.classList.add('answered');

            allOptionsForThisQuestion.forEach(opt => {
                opt.disabled = true;
                opt.classList.remove('selected');
            });
            option.classList.add('selected');

            const answerData = specificCorrectAnswers[questionId];
            if (answerData && answerData.correct === selectedAnswer) {
                option.classList.add('correct');
                feedbackEl.innerHTML = `<i class="fas fa-check-circle"></i> Đúng! ${answerData.feedback}`;
                feedbackEl.className = 'feedback correct';
                if (questionId === 'q1' || questionId === 'q2' || questionId === 'q3' ) { 
                    userCorrectAnswers++;
                }
            } else if (answerData) {
                option.classList.add('incorrect');
                feedbackEl.innerHTML = `<i class="fas fa-times-circle"></i> Sai. ${answerData.feedback}`;
                feedbackEl.className = 'feedback incorrect';
                allOptionsForThisQuestion.forEach(opt => {
                    if (opt.dataset.answer === answerData.correct) {
                        opt.classList.add('correct');
                    }
                });
            } else {
                 feedbackEl.innerHTML = `Lỗi: Không tìm thấy dữ liệu đáp án cho câu hỏi ${questionId}.`;
                 feedbackEl.className = 'feedback incorrect';
                 // console.error("Answer data not found for questionId:", questionId, "in specificCorrectAnswers:", specificCorrectAnswers);
            }
        }


        function initializeInteractiveQuizItems() { 
            const quizOptions = document.querySelectorAll('.interactive-quiz-item[data-question^="q"]'); 

            quizOptions.forEach(option => {
                if (option.dataset.question.startsWith('q-ch')) return; 

                option.addEventListener('click', () => {
                    const questionId = option.dataset.question;
                    const selectedAnswer = option.dataset.answer;
                    const feedbackEl = document.getElementById(`feedback-${questionId}`);
                    const questionContainer = option.closest('.quiz-question-container');
                    const allOptionsForThisQuestion = questionContainer ? questionContainer.querySelectorAll(`.interactive-quiz-item[data-question="${questionId}"]`) : [];
                    
                    handleQuizOptionClick(option, questionId, selectedAnswer, feedbackEl, allOptionsForThisQuestion, questionContainer, mainQuizCorrectAnswers);
                });
            });
        }
        
        function initializeChapter1Quiz() {
            const ch1QuizOptions = document.querySelectorAll('.interactive-quiz-item[data-question^="q-ch1"]');
            ch1QuizOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const questionId = option.dataset.question;
                    const selectedAnswer = option.dataset.answer;
                    const feedbackEl = document.getElementById(`feedback-${questionId}`);
                    const questionContainer = option.closest('.quiz-question-container');
                    const allOptionsForThisQuestion = questionContainer ? questionContainer.querySelectorAll(`.interactive-quiz-item[data-question="${questionId}"]`) : [];
                     handleQuizOptionClick(option, questionId, selectedAnswer, feedbackEl, allOptionsForThisQuestion, questionContainer, mainQuizCorrectAnswers); 
                });
            });
        }


        function initializeCheckboxQuiz() { 
            const checkQ4Button = document.getElementById('check-q4');
            if (!checkQ4Button) return;

            const q4Checkboxes = document.querySelectorAll('input[name="q4"]');
            const feedbackQ4 = document.getElementById('feedback-q4');
            if (!feedbackQ4 || q4Checkboxes.length === 0) return;

            const correctAnswersQ4 = ['VB', 'HA', 'AT', 'DLB']; 

            checkQ4Button.addEventListener('click', () => {
                if (checkQ4Button.disabled) return;

                const selectedAnswersQ4 = [];
                q4Checkboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        selectedAnswersQ4.push(checkbox.value);
                    }
                    if(checkbox.parentElement) checkbox.parentElement.classList.remove('correct', 'incorrect');
                    checkbox.disabled = true;
                });

                let isPerfect = true;
                let correctSelectionsCount = 0;

                q4Checkboxes.forEach(checkbox => {
                    const isCorrectOption = correctAnswersQ4.includes(checkbox.value);
                    if (checkbox.checked) {
                        if (isCorrectOption) {
                            if(checkbox.parentElement) checkbox.parentElement.classList.add('correct');
                            correctSelectionsCount++;
                        } else {
                            if(checkbox.parentElement) checkbox.parentElement.classList.add('incorrect');
                            isPerfect = false;
                        }
                    } else { 
                        if (isCorrectOption) { 
                            isPerfect = false;
                        }
                    }
                });
                
                if (correctSelectionsCount !== correctAnswersQ4.length || selectedAnswersQ4.length !== correctSelectionsCount) {
                     isPerfect = false;
                }
                
                if (isPerfect) {
                    userCorrectAnswers++; 
                    feedbackQ4.innerHTML = `<i class="fas fa-check-circle"></i> Chính xác! Các đáp án đúng là: Văn bản, Hình ảnh, Âm thanh, Dữ liệu dạng bảng.`;
                    feedbackQ4.className = 'feedback correct';
                } else {
                    let incorrectFeedback = 'Chưa hoàn toàn đúng. ';
                    if (correctSelectionsCount > 0) {
                        incorrectFeedback += `Bạn đã chọn đúng ${correctSelectionsCount} đáp án. `;
                    }
                    incorrectFeedback += 'Các dạng dữ liệu đầu vào phù hợp là: Văn bản, Hình ảnh, Âm thanh, và Dữ liệu dạng bảng (Excel, CSV).';
                    feedbackQ4.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${incorrectFeedback}`;
                    feedbackQ4.className = 'feedback incorrect';
                    q4Checkboxes.forEach(checkbox => {
                        if (correctAnswersQ4.includes(checkbox.value) && checkbox.parentElement) {
                             checkbox.parentElement.classList.add('correct');
                        }
                    });
                }
                checkQ4Button.disabled = true;
            });
        }

        function initializeDragAndDropQuiz() { 
            const dragSourceContainer = document.getElementById('drag-source-q5');
            const dropZones = document.querySelectorAll('#drop-target-q5 .drop-zone-styled'); 
            const checkQ5Button = document.getElementById('check-q5');
            const feedbackQ5 = document.getElementById('feedback-q5');

            if (!dragSourceContainer || dropZones.length === 0 || !checkQ5Button || !feedbackQ5) {
                // console.warn("Q5 Drag and Drop elements not fully found. Skipping initialization.");
                return;
            }


            const q5Steps = [
                { id: 'step1-q5', text: 'Thu thập và chuẩn hóa dữ liệu', order: 1 },
                { id: 'step2-q5', text: 'Huấn luyện mô hình', order: 2 },
                { id: 'step3-q5', text: 'Dự đoán/kết quả', order: 3 },
                { id: 'step4-q5', text: 'Đánh giá và cải tiến mô hình', order: 4 }
            ];

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            let shuffledSteps = [...q5Steps];
            shuffleArray(shuffledSteps);
            dragSourceContainer.innerHTML = '<p class="drag-drop-instruction-text"><strong>Kéo các bước từ đây:</strong></p>'; 

            shuffledSteps.forEach(step => {
                const card = document.createElement('div');
                card.classList.add('draggable-card-item');
                card.setAttribute('draggable', true);
                card.id = step.id;
                card.dataset.order = step.order;
                card.textContent = step.text;
                dragSourceContainer.appendChild(card);

                card.addEventListener('dragstart', (event) => {
                    event.dataTransfer.setData('text/plain', event.target.id);
                    event.target.classList.add('dragging-active');
                });

                card.addEventListener('dragend', (event) => {
                    event.target.classList.remove('dragging-active');
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', (event) => {
                    event.preventDefault();
                    let hasDraggable = false;
                    for(let child of zone.children) {
                        if (child.classList.contains('draggable-card-item')) {
                            hasDraggable = true;
                            break;
                        }
                    }
                    if (!hasDraggable) { 
                         zone.classList.add('drag-over-active');
                    }
                });
                zone.addEventListener('dragleave', () => {
                    zone.classList.remove('drag-over-active');
                });
                zone.addEventListener('drop', (event) => {
                    event.preventDefault();
                    zone.classList.remove('drag-over-active');
                    const draggedCardId = event.dataTransfer.getData('text/plain');
                    const draggedCard = document.getElementById(draggedCardId);

                    let hasDraggable = false;
                    for(let child of zone.children) {
                        if (child.classList.contains('draggable-card-item')) {
                            hasDraggable = true;
                            break;
                        }
                    }

                    if (draggedCard && !hasDraggable) {
                        if (draggedCard.parentElement.classList.contains('drop-zone-styled')) {
                            draggedCard.parentElement.removeChild(draggedCard);
                        }
                        zone.appendChild(draggedCard);
                    }
                });
            });

            checkQ5Button.addEventListener('click', () => {
                if (checkQ5Button.disabled) return;
                let isCorrectOrder = true;
                let placedCount = 0;

                dropZones.forEach(zone => {
                    const card = zone.querySelector('.draggable-card-item');
                    zone.classList.remove('correct', 'incorrect');
                    if (card) {
                        card.classList.remove('correct', 'incorrect');
                        placedCount++;
                        const cardCorrectOrder = parseInt(card.dataset.order);
                        const zoneTargetOrder = parseInt(zone.dataset.order);
                        if (cardCorrectOrder !== zoneTargetOrder) {
                            isCorrectOrder = false;
                            zone.classList.add('incorrect'); 
                        } else {
                            zone.classList.add('correct'); 
                        }
                        card.setAttribute('draggable', false);
                    } else {
                        isCorrectOrder = false; 
                        zone.classList.add('incorrect');
                    }
                });
                
                if (placedCount < q5Steps.length) isCorrectOrder = false;

                if (isCorrectOrder) {
                    userCorrectAnswers++; 
                    feedbackQ5.innerHTML = `<i class="fas fa-check-circle"></i> Chính xác! Thứ tự các bước đã đúng.`;
                    feedbackQ5.className = 'feedback correct';
                } else {
                    feedbackQ5.innerHTML = `<i class="fas fa-exclamation-triangle"></i> Chưa đúng. Vui lòng kiểm tra lại. Thứ tự đúng là: 1. Thu thập và chuẩn hóa dữ liệu, 2. Huấn luyện mô hình, 3. Dự đoán/kết quả, 4. Đánh giá và cải tiến mô hình.`;
                    feedbackQ5.className = 'feedback incorrect';
                }
                checkQ5Button.disabled = true;
                dragSourceContainer.querySelectorAll('.draggable-card-item').forEach(card => {
                    card.setAttribute('draggable', false);
                    card.style.opacity = '0.6';
                });
                displayQuizScore(); 
            });
        }

        function initializeChapter2DragDrop() {
            const dragSourceCh2 = document.getElementById('drag-source-ch2');
            const dropZonesCh2 = document.querySelectorAll('#drop-target-ch2 .drop-zone-styled');
            const checkButtonCh2 = document.getElementById('check-ch2-dragdrop');
            const feedbackCh2 = document.getElementById('feedback-ch2-dragdrop');

            if (!dragSourceCh2 || dropZonesCh2.length === 0 || !checkButtonCh2 || !feedbackCh2) {
                 // console.warn("Chapter 2 Drag and Drop elements not fully found. Skipping initialization.");
                return;
            }


            const correctMappingCh2 = {
                'ch2-item1': 'text',    
                'ch2-item2': 'audio',   
                'ch2-item3': 'tabular', 
                'ch2-item4': 'image',   
                'ch2-item5': 'video'    
            };
            const draggableItemsCh2 = dragSourceCh2.querySelectorAll('.draggable-card-item');

            draggableItemsCh2.forEach(card => {
                card.addEventListener('dragstart', (event) => {
                    event.dataTransfer.setData('text/plain', event.target.id);
                    event.target.classList.add('dragging-active');
                });
                card.addEventListener('dragend', (event) => {
                    event.target.classList.remove('dragging-active');
                });
            });

            dropZonesCh2.forEach(zone => {
                zone.addEventListener('dragover', (event) => {
                    event.preventDefault();
                    let hasDraggable = false;
                    for(let child of zone.children) {
                        if (child.classList.contains('draggable-card-item')) {
                            hasDraggable = true; break;
                        }
                    }
                    if (!hasDraggable) zone.classList.add('drag-over-active');
                });
                zone.addEventListener('dragleave', () => zone.classList.remove('drag-over-active'));
                zone.addEventListener('drop', (event) => {
                    event.preventDefault();
                    zone.classList.remove('drag-over-active');
                    const draggedCardId = event.dataTransfer.getData('text/plain');
                    const draggedCard = document.getElementById(draggedCardId);
                    let hasDraggable = false;
                    for(let child of zone.children) {
                        if (child.classList.contains('draggable-card-item')) {
                            hasDraggable = true; break;
                        }
                    }
                    if (draggedCard && !hasDraggable) {
                        if (draggedCard.parentElement.classList.contains('drop-zone-styled')) {
                            draggedCard.parentElement.removeChild(draggedCard);
                        }
                        zone.appendChild(draggedCard);
                    }
                });
            });

            checkButtonCh2.addEventListener('click', () => {
                if (checkButtonCh2.disabled) return;
                let allCorrect = true;
                let placedCount = 0;

                dropZonesCh2.forEach(zone => {
                    zone.classList.remove('correct', 'incorrect');
                    const card = zone.querySelector('.draggable-card-item');
                    if (card) {
                        placedCount++;
                        const cardId = card.id;
                        const zoneType = zone.dataset.type;
                        if (correctMappingCh2[cardId] === zoneType) {
                            zone.classList.add('correct');
                        } else {
                            zone.classList.add('incorrect');
                            allCorrect = false;
                        }
                        card.setAttribute('draggable', false);
                    } else {
                        allCorrect = false; 
                    }
                });

                if (placedCount < draggableItemsCh2.length) allCorrect = false;


                if (allCorrect) {
                    feedbackCh2.innerHTML = `<i class="fas fa-check-circle"></i> Chính xác! Bạn đã phân loại đúng tất cả.`;
                    feedbackCh2.className = 'feedback correct';
                } else {
                    feedbackCh2.innerHTML = `<i class="fas fa-exclamation-triangle"></i> Chưa đúng hoàn toàn. Hãy kiểm tra lại nhé!`;
                    feedbackCh2.className = 'feedback incorrect';
                }
                checkButtonCh2.disabled = true;
                draggableItemsCh2.forEach(card => card.setAttribute('draggable', false));
                dragSourceCh2.querySelectorAll('.draggable-card-item').forEach(card => { 
                    card.setAttribute('draggable', false);
                    card.style.opacity = '0.6';
                });
            });
        }


        function initializeGeminiInteraction() {
            const submitButton = document.getElementById('gemini-submit-button');
            const promptInput = document.getElementById('gemini-prompt-input');
            const responseArea = document.getElementById('gemini-response-area');
            const loadingSpinner = submitButton ? submitButton.querySelector('.loading-spinner') : null;

            if (!submitButton || !promptInput || !responseArea) {
                // console.warn("Gemini UI elements not found. Skipping initialization.");
                return;
            }

            submitButton.addEventListener('click', async () => {
                const promptText = promptInput.value.trim();
                if (!promptText) {
                    responseArea.textContent = "Vui lòng nhập câu hỏi của bạn.";
                    return;
                }

                if (submitButton) submitButton.disabled = true;
                if (loadingSpinner) loadingSpinner.style.display = 'inline-block';
                responseArea.textContent = "Đang xử lý yêu cầu, vui lòng đợi...";

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: "Bối cảnh: AI trong giáo dục. Câu hỏi: " + promptText }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        let errorMsg = `Yêu cầu API thất bại với trạng thái ${response.status}`;
                        try {
                            const errorData = await response.json();
                            errorMsg += `: ${errorData.error?.message || JSON.stringify(errorData)}`;
                        } catch (e) {
                            try {
                                const textError = await response.text();
                                errorMsg += `: ${textError}`;
                            } catch (textE) {
                                // silent
                            }
                        }
                        console.error("API Error Response:", errorMsg);
                        throw new Error(errorMsg);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        responseArea.textContent = text;
                    } else {
                        console.error("Cấu trúc phản hồi API không mong muốn:", result);
                        responseArea.textContent = "Không nhận được phản hồi hợp lệ từ AI. Vui lòng kiểm tra console để biết chi tiết.";
                    }
                } catch (error) {
                    console.error("Lỗi khi gọi Gemini API:", error);
                    responseArea.textContent = `Đã xảy ra lỗi: ${error.message}. Vui lòng thử lại sau.`;
                } finally {
                    if (submitButton) submitButton.disabled = false;
                    if (loadingSpinner) loadingSpinner.style.display = 'none';
                }
            });
        }

    </script>
</body>
</html>
